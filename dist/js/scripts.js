let productNumber,lineHS=document.querySelector(".photos"),arrLeftHS=document.querySelector(".arrow-left"),arrRightHS=document.querySelector(".arrow-right"),imgHS=document.querySelectorAll(".header-slider-img"),imgWidthHS=imgHS[0].getBoundingClientRect().width,widthHS=Math.round(lineHS.getBoundingClientRect().width),lineGS=document.querySelector(".gallery-line"),arrLeftGS=document.querySelector(".arrow-left-gallery"),arrRightGS=document.querySelector(".arrow-right-gallery"),pictures=document.querySelectorAll(".scrolled-picture"),pictureWidthGS=pictures[0].getBoundingClientRect().width+12,widthGS=Math.round(lineGS.getBoundingClientRect().width),lineSPS=document.querySelector(".sponsor"),arrLeftSPS=document.querySelector(".arrow-left-sp"),arrRightSPS=document.querySelector(".arrow-right-sp"),sponsors=document.querySelectorAll(".sponsor-img-wrap"),sponsorWidthSPS=sponsors[0].getBoundingClientRect().width,widthSPS=Math.round(lineSPS.getBoundingClientRect().width),lineSS=document.querySelector(".shop-products"),arrLeftSS=document.querySelector(".arrow-left-shop"),arrRightSS=document.querySelector(".arrow-right-shop"),products=document.querySelectorAll(".shop-product"),productWidthSS=products[0].getBoundingClientRect().width+30,widthSS=Math.round(lineSS.getBoundingClientRect().width),printerButton=document.querySelector(".service-3d-printer"),printerPopup=document.querySelector(".printer-popup"),sittingButton=document.querySelector(".service-sitting"),sittingPopup=document.querySelector(".sittig-popup"),wifiButton=document.querySelector(".service-wifi"),wifiPopup=document.querySelector(".wifi-popup"),printButton=document.querySelector(".service-print"),printPopup=document.querySelector(".print-popup"),microwaveButton=document.querySelector(".service-microwave"),microwavePopup=document.querySelector(".microwave-popup"),basketButton=document.querySelector(".basket"),basketPopup=document.querySelector(".basket-popup"),orderProducts=document.querySelectorAll(".product"),productPlus=document.querySelectorAll(".product-plus"),productMinus=document.querySelectorAll(".product-minus"),productQuantify=document.querySelectorAll(".product-amount"),price=document.querySelectorAll(".price"),productPrice=document.querySelectorAll(".product-price"),deleteProduct=document.querySelectorAll(".delete-product"),productOrderInfo=document.querySelectorAll(".product-order-info"),sumPrice=document.querySelector(".sum-price"),addProductButton=document.querySelectorAll(".product-button"),productName=document.querySelectorAll(".product-name"),basketProducts=document.querySelector(".basket-products"),shopProducts=document.querySelectorAll(".shop-product"),productImg=document.querySelectorAll(".shop-product img"),balance=document.querySelector(".balance"),innerString="",totalPrice=0;function leftHS(t){lineLeft(t,lineHS,imgWidthHS)}function rightHS(t){lineRight(t,lineHS,widthHS,imgWidthHS)}function leftGS(t){lineLeft(t,lineGS,pictureWidthGS)}function rightGS(t){lineRight(t,lineGS,widthGS,pictureWidthGS)}function leftSPS(t){lineLeft(t,lineSPS,sponsorWidthSPS)}function rightSPS(t){lineRight(t,lineSPS,widthSPS,sponsorWidthSPS)}function leftSS(t){lineLeft(t,lineSS,productWidthSS)}function rightSS(t){lineRight(t,lineSS,widthSS,productWidthSS)}function printerOpen(t){popupOpen(t,printerPopup)}function sittingOpen(t){popupOpen(t,sittingPopup)}function wifiOpen(t){popupOpen(t,wifiPopup)}function printOpen(t){popupOpen(t,printPopup)}function microwaveOpen(t){popupOpen(t,microwavePopup)}function basketOpen(t){popupOpen(t,basketPopup)}function attributeAdd(){for(let t=0;t<orderProducts.length;t++)orderProducts[t].dataset.productNumber=t,productPrice[t].dataset.productStartingPrice=productPrice[t].textContent.slice(0,productPrice[t].textContent.length-1),productPrice[t].dataset.productPrice=productPrice[t].textContent.slice(0,productPrice[t].textContent.length-1)}function prMinus(t){if(t.preventDefault(),productNumber=this.closest(".product").getAttribute("data-product-number"),!(productQuantify[productNumber].value>0))return!1;productQuantify[productNumber].value=productQuantify[productNumber].value-1,productPrice[productNumber].innerHTML=parseInt(productPrice[productNumber].getAttribute("data-product-price"))-parseInt(productPrice[productNumber].getAttribute("data-product-starting-price"))+"$",productPrice[productNumber].dataset.productPrice=productPrice[productNumber].textContent.slice(0,productPrice[productNumber].textContent.length-1),totalPriceCount()}function prPlus(t){t.preventDefault(),productNumber=this.closest(".product").getAttribute("data-product-number"),productQuantify[productNumber].value=parseInt(productQuantify[productNumber].value)+1,productPrice[productNumber].innerHTML=parseInt(productPrice[productNumber].getAttribute("data-product-starting-price"))+parseInt(productPrice[productNumber].getAttribute("data-product-price"))+"$",productPrice[productNumber].dataset.productPrice=productPrice[productNumber].textContent.slice(0,productPrice[productNumber].textContent.length-1),totalPriceCount()}function valueChange(){productNumber=this.closest(".product").getAttribute("data-product-number"),productPrice[productNumber].innerHTML=parseInt(productPrice[productNumber].getAttribute("data-product-starting-price"))*this.value+"$",productPrice[productNumber].dataset.productPrice=productPrice[productNumber].textContent.slice(0,productPrice[productNumber].textContent.length-1),totalPriceCount()}function totalPriceCount(){productPrice=document.querySelectorAll(".product-price"),productPrice.forEach(t=>{totalPrice+=parseInt(t.getAttribute("data-product-price"))}),sumPrice.innerHTML=totalPrice+"$",balance.innerHTML=totalPrice+"$",totalPrice=0}arrLeftHS.onclick=leftHS,arrRightHS.onclick=rightHS,arrLeftHS.ondblclick=falseS,arrRightHS.ondblclick=falseS,arrLeftGS.onclick=leftGS,arrRightGS.onclick=rightGS,arrLeftGS.ondblclick=falseS,arrRightGS.ondblclick=falseS,arrLeftSPS.onclick=leftSPS,arrRightSPS.onclick=rightSPS,arrLeftSPS.ondblclick=falseS,arrRightSPS.ondblclick=falseS,arrLeftSS.onclick=leftSS,arrRightSS.onclick=rightSS,arrLeftSS.ondblclick=falseS,arrRightSS.ondblclick=falseS,printerButton.onclick=printerOpen,sittingButton.onclick=sittingOpen,wifiButton.onclick=wifiOpen,printButton.onclick=printOpen,microwaveButton.onclick=microwaveOpen,basketButton.onclick=basketOpen,addProductButton.forEach(t=>{t.onclick=addProduct});for(let t=0;t<shopProducts.length;t++)shopProducts[t].dataset.productNumber=t;function addProduct(t){if(t.preventDefault(),productNumber=this.closest(".shop-product").getAttribute("data-product-number"),basketProducts.innerHTML="",void 0===orderProducts[0])basketProducts.innerHTML=`<figure class="product">${productImg[productNumber].outerHTML}<figcaption> <p class="product-name">${productName[productNumber].textContent}</p><div class="product-info"><div class="product-description"> <p>size - L</p><p>for women</p></div><div class="product-order-info"> <form class="product-quantity"> <button class="product-minus">-</button><label><input class="product-amount" type="number" name="product-quantity" value="1"/></label><button class="product-plus">+</button></form><div class="price-wrap"> <p class="product-price">${price[productNumber].textContent}</p><span class="delete-product"></span></div></div></div></figcaption></figure>`;else{for(let t=0;t<orderProducts.length;t++)innerString=`${innerString}${orderProducts[t].outerHTML}`;basketProducts.innerHTML=`${innerString}<figure class="product">${productImg[productNumber].outerHTML}<figcaption> <p class="product-name">${productName[productNumber].textContent}</p><div class="product-info"><div class="product-description"> <p>size - L</p><p>for women</p></div><div class="product-order-info"> <form class="product-quantity"> <button class="product-minus">-</button><label><input class="product-amount" type="number" name="product-quantity" value="1"/></label><button class="product-plus">+</button></form><div class="price-wrap"> <p class="product-price">${price[productNumber].textContent}</p><span class="delete-product"></span></div></div></div></figcaption></figure>`,innerString=""}orderProducts=document.querySelectorAll(".product"),productPlus=document.querySelectorAll(".product-plus"),productMinus=document.querySelectorAll(".product-minus"),productQuantify=document.querySelectorAll(".product-amount"),productPrice=document.querySelectorAll(".product-price"),deleteProduct=document.querySelectorAll(".delete-product"),productOrderInfo=document.querySelectorAll(".product-order-info"),deleteProduct=document.querySelectorAll(".delete-product"),attributeAdd(),totalPriceCount(),productPlus.forEach(t=>{t.onclick=prPlus}),productMinus.forEach(t=>{t.onclick=prMinus}),productQuantify.forEach(t=>{t.onchange=valueChange}),deleteProduct.forEach(t=>{t.onclick=e=>{e.preventDefault(),basketProducts.removeChild(orderProducts[t.closest(".product").getAttribute("data-product-number")]),orderProducts=document.querySelectorAll(".product"),void 0===orderProducts[0]&&(basketProducts.innerHTML='<p class="basket-clear">Basket is clear</p>'),innerString="",attributeAdd(),totalPriceCount()}})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsicHJvZHVjdE51bWJlciIsImxpbmVIUyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFyckxlZnRIUyIsImFyclJpZ2h0SFMiLCJpbWdIUyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbWdXaWR0aEhTIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJ3aWR0aEhTIiwiTWF0aCIsInJvdW5kIiwibGluZUdTIiwiYXJyTGVmdEdTIiwiYXJyUmlnaHRHUyIsInBpY3R1cmVzIiwicGljdHVyZVdpZHRoR1MiLCJ3aWR0aEdTIiwibGluZVNQUyIsImFyckxlZnRTUFMiLCJhcnJSaWdodFNQUyIsInNwb25zb3JzIiwic3BvbnNvcldpZHRoU1BTIiwid2lkdGhTUFMiLCJsaW5lU1MiLCJhcnJMZWZ0U1MiLCJhcnJSaWdodFNTIiwicHJvZHVjdHMiLCJwcm9kdWN0V2lkdGhTUyIsIndpZHRoU1MiLCJwcmludGVyQnV0dG9uIiwicHJpbnRlclBvcHVwIiwic2l0dGluZ0J1dHRvbiIsInNpdHRpbmdQb3B1cCIsIndpZmlCdXR0b24iLCJ3aWZpUG9wdXAiLCJwcmludEJ1dHRvbiIsInByaW50UG9wdXAiLCJtaWNyb3dhdmVCdXR0b24iLCJtaWNyb3dhdmVQb3B1cCIsImJhc2tldEJ1dHRvbiIsImJhc2tldFBvcHVwIiwib3JkZXJQcm9kdWN0cyIsInByb2R1Y3RQbHVzIiwicHJvZHVjdE1pbnVzIiwicHJvZHVjdFF1YW50aWZ5IiwicHJpY2UiLCJwcm9kdWN0UHJpY2UiLCJkZWxldGVQcm9kdWN0IiwicHJvZHVjdE9yZGVySW5mbyIsInN1bVByaWNlIiwiYWRkUHJvZHVjdEJ1dHRvbiIsInByb2R1Y3ROYW1lIiwiYmFza2V0UHJvZHVjdHMiLCJzaG9wUHJvZHVjdHMiLCJwcm9kdWN0SW1nIiwiYmFsYW5jZSIsImlubmVyU3RyaW5nIiwidG90YWxQcmljZSIsImxlZnRIUyIsImV2ZW50IiwibGluZUxlZnQiLCJyaWdodEhTIiwibGluZVJpZ2h0IiwibGVmdEdTIiwicmlnaHRHUyIsImxlZnRTUFMiLCJyaWdodFNQUyIsImxlZnRTUyIsInJpZ2h0U1MiLCJwcmludGVyT3BlbiIsInBvcHVwT3BlbiIsInNpdHRpbmdPcGVuIiwid2lmaU9wZW4iLCJwcmludE9wZW4iLCJtaWNyb3dhdmVPcGVuIiwiYmFza2V0T3BlbiIsImF0dHJpYnV0ZUFkZCIsImkiLCJsZW5ndGgiLCJkYXRhc2V0IiwicHJvZHVjdFN0YXJ0aW5nUHJpY2UiLCJ0ZXh0Q29udGVudCIsInNsaWNlIiwicHJNaW51cyIsInByZXZlbnREZWZhdWx0IiwidGhpcyIsImNsb3Nlc3QiLCJnZXRBdHRyaWJ1dGUiLCJ2YWx1ZSIsImlubmVySFRNTCIsInBhcnNlSW50IiwidG90YWxQcmljZUNvdW50IiwicHJQbHVzIiwidmFsdWVDaGFuZ2UiLCJmb3JFYWNoIiwiZWxlbSIsIm9uY2xpY2siLCJvbmRibGNsaWNrIiwiZmFsc2VTIiwiYWRkUHJvZHVjdCIsInVuZGVmaW5lZCIsIm91dGVySFRNTCIsIm9uY2hhbmdlIiwicmVtb3ZlQ2hpbGQiXSwibWFwcGluZ3MiOiJBQUFBLElBMkRJQSxjQTFEQUMsT0FBU0MsU0FBU0MsY0FBYyxXQUNoQ0MsVUFBWUYsU0FBU0MsY0FBYyxlQUNuQ0UsV0FBYUgsU0FBU0MsY0FBYyxnQkFDcENHLE1BQVFKLFNBQVNLLGlCQUFpQixzQkFDbENDLFdBQWFGLE1BQU0sR0FBR0csd0JBQXdCQyxNQUM5Q0MsUUFBVUMsS0FBS0MsTUFBTVosT0FBT1Esd0JBQXdCQyxPQUVwREksT0FBU1osU0FBU0MsY0FBYyxpQkFDaENZLFVBQVliLFNBQVNDLGNBQWMsdUJBQ25DYSxXQUFhZCxTQUFTQyxjQUFjLHdCQUNwQ2MsU0FBV2YsU0FBU0ssaUJBQWlCLHFCQUNyQ1csZUFBaUJELFNBQVMsR0FBR1Isd0JBQXdCQyxNQUFRLEdBQzdEUyxRQUFVUCxLQUFLQyxNQUFNQyxPQUFPTCx3QkFBd0JDLE9BRXBEVSxRQUFVbEIsU0FBU0MsY0FBYyxZQUNqQ2tC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U0MsSUFDckJBLEVBQUtDLFFBQVdyQyxJQUNkQSxFQUFNeUIsaUJBQ05oQyxlQUFlbUQsWUFBWTlELGNBQWNzRCxFQUFLVCxRQUFRLFlBQVlDLGFBQWEseUJBQy9FOUMsY0FBZ0IxQyxTQUFTSyxpQkFBaUIsaUJBQ2xCZ0csSUFBckIzRCxjQUFjLEtBQ2ZXLGVBQWVxQyxVQUFZLCtDQUU3QmpDLFlBQWMsR0FDZG9CLGVBQ0FlIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgLy9oZWFkZXIgc2xpZGVyIChIUylcclxuICAgIGxpbmVIUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9zXCIpLFxyXG4gICAgYXJyTGVmdEhTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnJvdy1sZWZ0XCIpLFxyXG4gICAgYXJyUmlnaHRIUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3ctcmlnaHRcIiksXHJcbiAgICBpbWdIUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGVhZGVyLXNsaWRlci1pbWdcIiksXHJcbiAgICBpbWdXaWR0aEhTID0gaW1nSFNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXHJcbiAgICB3aWR0aEhTID0gTWF0aC5yb3VuZChsaW5lSFMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpLFxyXG4gICAgLy9nYWxsZXJ5IHNsaWRlciAoR1MpXHJcbiAgICBsaW5lR1MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnktbGluZVwiKSxcclxuICAgIGFyckxlZnRHUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3ctbGVmdC1nYWxsZXJ5XCIpLFxyXG4gICAgYXJyUmlnaHRHUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3ctcmlnaHQtZ2FsbGVyeVwiKSxcclxuICAgIHBpY3R1cmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zY3JvbGxlZC1waWN0dXJlXCIpLFxyXG4gICAgcGljdHVyZVdpZHRoR1MgPSBwaWN0dXJlc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArIDEyLFxyXG4gICAgd2lkdGhHUyA9IE1hdGgucm91bmQobGluZUdTLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKSxcclxuICAgIC8vc3BvbnNvciBzbGlkZXIgKFNQUylcclxuICAgIGxpbmVTUFMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNwb25zb3JcIiksXHJcbiAgICBhcnJMZWZ0U1BTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnJvdy1sZWZ0LXNwXCIpLFxyXG4gICAgYXJyUmlnaHRTUFMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFycm93LXJpZ2h0LXNwXCIpLFxyXG4gICAgc3BvbnNvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNwb25zb3ItaW1nLXdyYXBcIiksXHJcbiAgICBzcG9uc29yV2lkdGhTUFMgPSBzcG9uc29yc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCxcclxuICAgIHdpZHRoU1BTID0gTWF0aC5yb3VuZChsaW5lU1BTLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKSxcclxuICAgIC8vc2hvcCBzbGlkZXIgKFNTKVxyXG4gICAgbGluZVNTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaG9wLXByb2R1Y3RzXCIpLFxyXG4gICAgYXJyTGVmdFNTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnJvdy1sZWZ0LXNob3BcIiksXHJcbiAgICBhcnJSaWdodFNTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnJvdy1yaWdodC1zaG9wXCIpLFxyXG4gICAgcHJvZHVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNob3AtcHJvZHVjdFwiKSxcclxuICAgIHByb2R1Y3RXaWR0aFNTID0gcHJvZHVjdHNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAzMCxcclxuICAgIHdpZHRoU1MgPSBNYXRoLnJvdW5kKGxpbmVTUy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCksXHJcbiAgICAvL3BvcHVwcyBcclxuICAgIHByaW50ZXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlcnZpY2UtM2QtcHJpbnRlclwiKSxcclxuICAgIHByaW50ZXJQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJpbnRlci1wb3B1cFwiKSxcclxuICAgIHNpdHRpbmdCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlcnZpY2Utc2l0dGluZ1wiKSxcclxuICAgIHNpdHRpbmdQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2l0dGlnLXBvcHVwXCIpLFxyXG4gICAgd2lmaUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VydmljZS13aWZpXCIpLFxyXG4gICAgd2lmaVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aWZpLXBvcHVwXCIpLFxyXG4gICAgcHJpbnRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlcnZpY2UtcHJpbnRcIiksXHJcbiAgICBwcmludFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcmludC1wb3B1cFwiKSxcclxuICAgIG1pY3Jvd2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VydmljZS1taWNyb3dhdmVcIiksXHJcbiAgICBtaWNyb3dhdmVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWljcm93YXZlLXBvcHVwXCIpLFxyXG4gICAgYmFza2V0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iYXNrZXRcIiksXHJcbiAgICBiYXNrZXRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmFza2V0LXBvcHVwXCIpLFxyXG4gICAgLy9vcmRlciBtZW51XHJcbiAgICBvcmRlclByb2R1Y3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9kdWN0XCIpLFxyXG4gICAgcHJvZHVjdFBsdXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3QtcGx1c1wiKSxcclxuICAgIHByb2R1Y3RNaW51cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1taW51c1wiKSxcclxuICAgIHByb2R1Y3RRdWFudGlmeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1hbW91bnRcIiksXHJcbiAgICBwcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJpY2VcIiksXHJcbiAgICBwcm9kdWN0UHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3QtcHJpY2VcIiksIC8vIGluIHBvcHVwXHJcbiAgICBkZWxldGVQcm9kdWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kZWxldGUtcHJvZHVjdFwiKSxcclxuICAgIHByb2R1Y3RPcmRlckluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3Qtb3JkZXItaW5mb1wiKSxcclxuICAgIHN1bVByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdW0tcHJpY2VcIiksXHJcbiAgICBhZGRQcm9kdWN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9kdWN0LWJ1dHRvblwiKSxcclxuICAgIHByb2R1Y3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9kdWN0LW5hbWVcIiksXHJcbiAgICBiYXNrZXRQcm9kdWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmFza2V0LXByb2R1Y3RzXCIpLFxyXG4gICAgc2hvcFByb2R1Y3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaG9wLXByb2R1Y3RcIiksXHJcbiAgICBwcm9kdWN0SW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaG9wLXByb2R1Y3QgaW1nXCIpLFxyXG4gICAgYmFsYW5jZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmFsYW5jZVwiKSxcclxuICAgIGlubmVyU3RyaW5nID0gXCJcIixcclxuICAgIHRvdGFsUHJpY2UgPSAwLFxyXG4gICAgcHJvZHVjdE51bWJlclxyXG5cclxuLy9oZWFkZXIgc2xpZGVyIChIUylcclxuXHJcbmFyckxlZnRIUy5vbmNsaWNrID0gbGVmdEhTXHJcbmFyclJpZ2h0SFMub25jbGljayA9IHJpZ2h0SFNcclxuYXJyTGVmdEhTLm9uZGJsY2xpY2sgPSBmYWxzZVNcclxuYXJyUmlnaHRIUy5vbmRibGNsaWNrID0gZmFsc2VTXHJcblxyXG5mdW5jdGlvbiBsZWZ0SFMgKGV2ZW50KXtcclxuICBsaW5lTGVmdChldmVudCwgbGluZUhTLCBpbWdXaWR0aEhTKVxyXG59XHJcblxyXG5mdW5jdGlvbiByaWdodEhTIChldmVudCl7XHJcbiAgbGluZVJpZ2h0KGV2ZW50LCBsaW5lSFMsIHdpZHRoSFMsIGltZ1dpZHRoSFMpXHJcbn1cclxuXHJcbi8vZ2FsbGVyeSBzbGlkZXIgKEdTKVxyXG5cclxuYXJyTGVmdEdTLm9uY2xpY2sgPSBsZWZ0R1NcclxuYXJyUmlnaHRHUy5vbmNsaWNrID0gcmlnaHRHU1xyXG5hcnJMZWZ0R1Mub25kYmxjbGljayA9IGZhbHNlU1xyXG5hcnJSaWdodEdTLm9uZGJsY2xpY2sgPSBmYWxzZVNcclxuXHJcbmZ1bmN0aW9uIGxlZnRHUyAoZXZlbnQpe1xyXG4gIGxpbmVMZWZ0KGV2ZW50LCBsaW5lR1MsIHBpY3R1cmVXaWR0aEdTKVxyXG59XHJcblxyXG5mdW5jdGlvbiByaWdodEdTIChldmVudCl7XHJcbiAgbGluZVJpZ2h0KGV2ZW50LCBsaW5lR1MsIHdpZHRoR1MsIHBpY3R1cmVXaWR0aEdTKVxyXG59XHJcblxyXG4vL3Nwb25zb3Igc2xpZGVyIChTUFMpXHJcblxyXG5hcnJMZWZ0U1BTLm9uY2xpY2sgPSBsZWZ0U1BTXHJcbmFyclJpZ2h0U1BTLm9uY2xpY2sgPSByaWdodFNQU1xyXG5hcnJMZWZ0U1BTLm9uZGJsY2xpY2sgPSBmYWxzZVNcclxuYXJyUmlnaHRTUFMub25kYmxjbGljayA9IGZhbHNlU1xyXG5cclxuZnVuY3Rpb24gbGVmdFNQUyAoZXZlbnQpe1xyXG4gIGxpbmVMZWZ0KGV2ZW50LCBsaW5lU1BTLCBzcG9uc29yV2lkdGhTUFMpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJpZ2h0U1BTIChldmVudCl7XHJcbiAgbGluZVJpZ2h0KGV2ZW50LCBsaW5lU1BTLCB3aWR0aFNQUywgc3BvbnNvcldpZHRoU1BTKVxyXG59XHJcblxyXG4vL3Nob3Agc2xpZGVyIChTUylcclxuXHJcbmFyckxlZnRTUy5vbmNsaWNrID0gbGVmdFNTXHJcbmFyclJpZ2h0U1Mub25jbGljayA9IHJpZ2h0U1NcclxuYXJyTGVmdFNTLm9uZGJsY2xpY2sgPSBmYWxzZVNcclxuYXJyUmlnaHRTUy5vbmRibGNsaWNrID0gZmFsc2VTXHJcblxyXG5mdW5jdGlvbiBsZWZ0U1MgKGV2ZW50KXtcclxuICBsaW5lTGVmdChldmVudCwgbGluZVNTLCBwcm9kdWN0V2lkdGhTUylcclxufVxyXG5cclxuZnVuY3Rpb24gcmlnaHRTUyAoZXZlbnQpe1xyXG4gIGxpbmVSaWdodChldmVudCwgbGluZVNTLCB3aWR0aFNTLCBwcm9kdWN0V2lkdGhTUylcclxufVxyXG5cclxuLy9wb3B1cHMgXHJcblxyXG5wcmludGVyQnV0dG9uLm9uY2xpY2sgPSBwcmludGVyT3BlblxyXG5cclxuZnVuY3Rpb24gcHJpbnRlck9wZW4gKGV2ZW50KXtcclxuICBwb3B1cE9wZW4gKGV2ZW50LCBwcmludGVyUG9wdXApXHJcbn1cclxuXHJcbnNpdHRpbmdCdXR0b24ub25jbGljayA9IHNpdHRpbmdPcGVuXHJcblxyXG5mdW5jdGlvbiBzaXR0aW5nT3BlbiAoZXZlbnQpe1xyXG4gIHBvcHVwT3BlbiAoZXZlbnQsIHNpdHRpbmdQb3B1cClcclxufVxyXG5cclxud2lmaUJ1dHRvbi5vbmNsaWNrID0gd2lmaU9wZW5cclxuXHJcbmZ1bmN0aW9uIHdpZmlPcGVuIChldmVudCl7XHJcbiAgcG9wdXBPcGVuIChldmVudCwgd2lmaVBvcHVwKVxyXG59XHJcblxyXG5wcmludEJ1dHRvbi5vbmNsaWNrID0gcHJpbnRPcGVuXHJcblxyXG5mdW5jdGlvbiBwcmludE9wZW4gKGV2ZW50KXtcclxuICBwb3B1cE9wZW4gKGV2ZW50LCBwcmludFBvcHVwKVxyXG59XHJcblxyXG5taWNyb3dhdmVCdXR0b24ub25jbGljayA9IG1pY3Jvd2F2ZU9wZW5cclxuXHJcbmZ1bmN0aW9uIG1pY3Jvd2F2ZU9wZW4gKGV2ZW50KXtcclxuICBwb3B1cE9wZW4gKGV2ZW50LCBtaWNyb3dhdmVQb3B1cClcclxufVxyXG5cclxuYmFza2V0QnV0dG9uLm9uY2xpY2sgPSBiYXNrZXRPcGVuXHJcblxyXG5mdW5jdGlvbiBiYXNrZXRPcGVuIChldmVudCl7XHJcbiAgcG9wdXBPcGVuIChldmVudCwgYmFza2V0UG9wdXApXHJcbn1cclxuXHJcbi8vb3JkZXIgbWVudSBcclxuXHJcbmZ1bmN0aW9uIGF0dHJpYnV0ZUFkZCAoKXtcclxuICBmb3IobGV0IGkgPSAwOyBpIDwgb3JkZXJQcm9kdWN0cy5sZW5ndGg7IGkrKyl7XHJcbiAgICBvcmRlclByb2R1Y3RzW2ldLmRhdGFzZXQucHJvZHVjdE51bWJlciA9IGlcclxuICAgIHByb2R1Y3RQcmljZVtpXS5kYXRhc2V0LnByb2R1Y3RTdGFydGluZ1ByaWNlID0gcHJvZHVjdFByaWNlW2ldLnRleHRDb250ZW50LnNsaWNlKDAsIHByb2R1Y3RQcmljZVtpXS50ZXh0Q29udGVudC5sZW5ndGgtMSlcclxuICAgIHByb2R1Y3RQcmljZVtpXS5kYXRhc2V0LnByb2R1Y3RQcmljZSA9IHByb2R1Y3RQcmljZVtpXS50ZXh0Q29udGVudC5zbGljZSgwLCBwcm9kdWN0UHJpY2VbaV0udGV4dENvbnRlbnQubGVuZ3RoLTEpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBwck1pbnVzIChldmVudCl7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gIHByb2R1Y3ROdW1iZXIgPSB0aGlzLmNsb3Nlc3QoXCIucHJvZHVjdFwiKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3QtbnVtYmVyXCIpXHJcbiAgaWYocHJvZHVjdFF1YW50aWZ5W3Byb2R1Y3ROdW1iZXJdLnZhbHVlID4gMCl7XHJcbiAgICBwcm9kdWN0UXVhbnRpZnlbcHJvZHVjdE51bWJlcl0udmFsdWUgPSBwcm9kdWN0UXVhbnRpZnlbcHJvZHVjdE51bWJlcl0udmFsdWUgLSAxXHJcbiAgICBwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0uaW5uZXJIVE1MID0gYCR7cGFyc2VJbnQocHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZHVjdC1wcmljZVwiKSkgLSBwYXJzZUludChwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0uZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LXN0YXJ0aW5nLXByaWNlXCIpKX0kYFxyXG4gICAgcHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLmRhdGFzZXQucHJvZHVjdFByaWNlID0gcHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLnRleHRDb250ZW50LnNsaWNlKDAsIHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS50ZXh0Q29udGVudC5sZW5ndGgtMSlcclxuICAgIHRvdGFsUHJpY2VDb3VudCgpXHJcbiAgfWVsc2V7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByUGx1cyAoZXZlbnQpe1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICBwcm9kdWN0TnVtYmVyID0gdGhpcy5jbG9zZXN0KFwiLnByb2R1Y3RcIikuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LW51bWJlclwiKVxyXG4gIHByb2R1Y3RRdWFudGlmeVtwcm9kdWN0TnVtYmVyXS52YWx1ZSA9IHBhcnNlSW50KHByb2R1Y3RRdWFudGlmeVtwcm9kdWN0TnVtYmVyXS52YWx1ZSkgKyAxXHJcbiAgcHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLmlubmVySFRNTCA9IGAke3BhcnNlSW50KHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3Qtc3RhcnRpbmctcHJpY2VcIikpICsgcGFyc2VJbnQocHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZHVjdC1wcmljZVwiKSl9JGBcclxuICBwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0uZGF0YXNldC5wcm9kdWN0UHJpY2UgPSBwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0udGV4dENvbnRlbnQuc2xpY2UoMCwgcHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLnRleHRDb250ZW50Lmxlbmd0aC0xKVxyXG4gIHRvdGFsUHJpY2VDb3VudCgpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbHVlQ2hhbmdlICgpe1xyXG4gIHByb2R1Y3ROdW1iZXIgPSB0aGlzLmNsb3Nlc3QoXCIucHJvZHVjdFwiKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3QtbnVtYmVyXCIpXHJcbiAgcHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLmlubmVySFRNTCA9IGAke3BhcnNlSW50KHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3Qtc3RhcnRpbmctcHJpY2VcIikpICogdGhpcy52YWx1ZX0kYFxyXG4gIHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS5kYXRhc2V0LnByb2R1Y3RQcmljZSA9IHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS50ZXh0Q29udGVudC5zbGljZSgwLCBwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0udGV4dENvbnRlbnQubGVuZ3RoLTEpXHJcbiAgdG90YWxQcmljZUNvdW50KClcclxufVxyXG5cclxuZnVuY3Rpb24gdG90YWxQcmljZUNvdW50ICgpe1xyXG4gIHByb2R1Y3RQcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1wcmljZVwiKVxyXG4gIHByb2R1Y3RQcmljZS5mb3JFYWNoKChlbGVtKT0+e1xyXG4gICAgdG90YWxQcmljZSArPSBwYXJzZUludChlbGVtLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZHVjdC1wcmljZVwiKSlcclxuICB9KVxyXG4gIHN1bVByaWNlLmlubmVySFRNTCA9IGAke3RvdGFsUHJpY2V9JGBcclxuICBiYWxhbmNlLmlubmVySFRNTCA9IGAke3RvdGFsUHJpY2V9JGBcclxuICB0b3RhbFByaWNlID0gMFxyXG59XHJcblxyXG5hZGRQcm9kdWN0QnV0dG9uLmZvckVhY2goKGVsZW0pPT57XHJcbiAgZWxlbS5vbmNsaWNrID0gYWRkUHJvZHVjdFxyXG59KVxyXG5cclxuZm9yKGxldCBpID0gMDsgaSA8IHNob3BQcm9kdWN0cy5sZW5ndGg7IGkrKyl7XHJcbiAgc2hvcFByb2R1Y3RzW2ldLmRhdGFzZXQucHJvZHVjdE51bWJlciA9IGlcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkUHJvZHVjdCAoZXZlbnQpe1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICBwcm9kdWN0TnVtYmVyID0gdGhpcy5jbG9zZXN0KFwiLnNob3AtcHJvZHVjdFwiKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3QtbnVtYmVyXCIpXHJcbiAgXHJcbiAgYmFza2V0UHJvZHVjdHMuaW5uZXJIVE1MID0gXCJcIlxyXG4gIGlmKG9yZGVyUHJvZHVjdHNbMF0gPT09IHVuZGVmaW5lZCl7XHJcbiAgICBiYXNrZXRQcm9kdWN0cy5pbm5lckhUTUwgPSBgPGZpZ3VyZSBjbGFzcz1cInByb2R1Y3RcIj4ke3Byb2R1Y3RJbWdbcHJvZHVjdE51bWJlcl0ub3V0ZXJIVE1MfTxmaWdjYXB0aW9uPiA8cCBjbGFzcz1cInByb2R1Y3QtbmFtZVwiPiR7cHJvZHVjdE5hbWVbcHJvZHVjdE51bWJlcl0udGV4dENvbnRlbnR9PC9wPjxkaXYgY2xhc3M9XCJwcm9kdWN0LWluZm9cIj48ZGl2IGNsYXNzPVwicHJvZHVjdC1kZXNjcmlwdGlvblwiPiA8cD5zaXplIC0gTDwvcD48cD5mb3Igd29tZW48L3A+PC9kaXY+PGRpdiBjbGFzcz1cInByb2R1Y3Qtb3JkZXItaW5mb1wiPiA8Zm9ybSBjbGFzcz1cInByb2R1Y3QtcXVhbnRpdHlcIj4gPGJ1dHRvbiBjbGFzcz1cInByb2R1Y3QtbWludXNcIj4tPC9idXR0b24+PGxhYmVsPjxpbnB1dCBjbGFzcz1cInByb2R1Y3QtYW1vdW50XCIgdHlwZT1cIm51bWJlclwiIG5hbWU9XCJwcm9kdWN0LXF1YW50aXR5XCIgdmFsdWU9XCIxXCIvPjwvbGFiZWw+PGJ1dHRvbiBjbGFzcz1cInByb2R1Y3QtcGx1c1wiPis8L2J1dHRvbj48L2Zvcm0+PGRpdiBjbGFzcz1cInByaWNlLXdyYXBcIj4gPHAgY2xhc3M9XCJwcm9kdWN0LXByaWNlXCI+JHtwcmljZVtwcm9kdWN0TnVtYmVyXS50ZXh0Q29udGVudH08L3A+PHNwYW4gY2xhc3M9XCJkZWxldGUtcHJvZHVjdFwiPjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48L2ZpZ2NhcHRpb24+PC9maWd1cmU+YFxyXG4gIH1lbHNle1xyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG9yZGVyUHJvZHVjdHMubGVuZ3RoOyBpKyspe1xyXG4gICAgICBpbm5lclN0cmluZyA9IGAke2lubmVyU3RyaW5nfSR7b3JkZXJQcm9kdWN0c1tpXS5vdXRlckhUTUx9YFxyXG4gICAgfVxyXG4gICAgYmFza2V0UHJvZHVjdHMuaW5uZXJIVE1MID0gYCR7aW5uZXJTdHJpbmd9PGZpZ3VyZSBjbGFzcz1cInByb2R1Y3RcIj4ke3Byb2R1Y3RJbWdbcHJvZHVjdE51bWJlcl0ub3V0ZXJIVE1MfTxmaWdjYXB0aW9uPiA8cCBjbGFzcz1cInByb2R1Y3QtbmFtZVwiPiR7cHJvZHVjdE5hbWVbcHJvZHVjdE51bWJlcl0udGV4dENvbnRlbnR9PC9wPjxkaXYgY2xhc3M9XCJwcm9kdWN0LWluZm9cIj48ZGl2IGNsYXNzPVwicHJvZHVjdC1kZXNjcmlwdGlvblwiPiA8cD5zaXplIC0gTDwvcD48cD5mb3Igd29tZW48L3A+PC9kaXY+PGRpdiBjbGFzcz1cInByb2R1Y3Qtb3JkZXItaW5mb1wiPiA8Zm9ybSBjbGFzcz1cInByb2R1Y3QtcXVhbnRpdHlcIj4gPGJ1dHRvbiBjbGFzcz1cInByb2R1Y3QtbWludXNcIj4tPC9idXR0b24+PGxhYmVsPjxpbnB1dCBjbGFzcz1cInByb2R1Y3QtYW1vdW50XCIgdHlwZT1cIm51bWJlclwiIG5hbWU9XCJwcm9kdWN0LXF1YW50aXR5XCIgdmFsdWU9XCIxXCIvPjwvbGFiZWw+PGJ1dHRvbiBjbGFzcz1cInByb2R1Y3QtcGx1c1wiPis8L2J1dHRvbj48L2Zvcm0+PGRpdiBjbGFzcz1cInByaWNlLXdyYXBcIj4gPHAgY2xhc3M9XCJwcm9kdWN0LXByaWNlXCI+JHtwcmljZVtwcm9kdWN0TnVtYmVyXS50ZXh0Q29udGVudH08L3A+PHNwYW4gY2xhc3M9XCJkZWxldGUtcHJvZHVjdFwiPjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48L2ZpZ2NhcHRpb24+PC9maWd1cmU+YFxyXG4gICAgaW5uZXJTdHJpbmcgPSBcIlwiXHJcbiAgfVxyXG5cclxuICBvcmRlclByb2R1Y3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9kdWN0XCIpXHJcbiAgcHJvZHVjdFBsdXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3QtcGx1c1wiKVxyXG4gIHByb2R1Y3RNaW51cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1taW51c1wiKVxyXG4gIHByb2R1Y3RRdWFudGlmeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1hbW91bnRcIilcclxuICBwcm9kdWN0UHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3QtcHJpY2VcIikgLy8gaW4gcG9wdXBcclxuICBkZWxldGVQcm9kdWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kZWxldGUtcHJvZHVjdFwiKVxyXG4gIHByb2R1Y3RPcmRlckluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3Qtb3JkZXItaW5mb1wiKVxyXG4gIGRlbGV0ZVByb2R1Y3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlbGV0ZS1wcm9kdWN0XCIpXHJcblxyXG4gIGF0dHJpYnV0ZUFkZCgpXHJcbiAgdG90YWxQcmljZUNvdW50KClcclxuXHJcbiAgcHJvZHVjdFBsdXMuZm9yRWFjaCgoZWxlbSk9PntcclxuICAgIGVsZW0ub25jbGljayA9IHByUGx1c1xyXG4gIH0pXHJcbiAgcHJvZHVjdE1pbnVzLmZvckVhY2goKGVsZW0pPT57XHJcbiAgICBlbGVtLm9uY2xpY2sgPSBwck1pbnVzXHJcbiAgfSlcclxuICBwcm9kdWN0UXVhbnRpZnkuZm9yRWFjaCgoZWxlbSk9PntcclxuICAgIGVsZW0ub25jaGFuZ2UgPSB2YWx1ZUNoYW5nZVxyXG4gIH0pXHJcbiAgZGVsZXRlUHJvZHVjdC5mb3JFYWNoKChlbGVtKT0+e1xyXG4gICAgZWxlbS5vbmNsaWNrID0gKGV2ZW50KT0+e1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgIGJhc2tldFByb2R1Y3RzLnJlbW92ZUNoaWxkKG9yZGVyUHJvZHVjdHNbZWxlbS5jbG9zZXN0KFwiLnByb2R1Y3RcIikuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LW51bWJlclwiKV0pXHJcbiAgICAgIG9yZGVyUHJvZHVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3RcIilcclxuICAgICAgaWYob3JkZXJQcm9kdWN0c1swXSA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgICBiYXNrZXRQcm9kdWN0cy5pbm5lckhUTUwgPSBgPHAgY2xhc3M9XCJiYXNrZXQtY2xlYXJcIj5CYXNrZXQgaXMgY2xlYXI8L3A+YFxyXG4gICAgICB9XHJcbiAgICAgIGlubmVyU3RyaW5nID0gXCJcIlxyXG4gICAgICBhdHRyaWJ1dGVBZGQoKVxyXG4gICAgICB0b3RhbFByaWNlQ291bnQoKVxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuIl19
