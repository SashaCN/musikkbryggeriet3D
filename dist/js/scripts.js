let activePopup,productNumber,screenWidth=document.body.getBoundingClientRect().width,profile=document.querySelector(".profile"),profileMenu=document.querySelector(".sing-menu"),burger=document.querySelector(".burger"),burgerMenu=document.querySelector(".header-menu"),menuLine=document.querySelector(".adaptive-header-line"),lineHS=document.querySelector(".photos"),arrLeftHS=document.querySelector(".arrow-left"),arrRightHS=document.querySelector(".arrow-right"),imgHS=document.querySelectorAll(".header-slider-img"),imgWidthHS=imgHS[0].getBoundingClientRect().width,widthHS=Math.round(lineHS.getBoundingClientRect().width),lineAUS=document.querySelector(".events-line"),arrLeftAUS=document.querySelector(".arrow-left-aus"),arrRightAUS=document.querySelector(".arrow-right-aus"),events=document.querySelectorAll(".event"),eventWidthAUS=events[0].getBoundingClientRect().width+30,widthAUS=Math.round(lineAUS.getBoundingClientRect().width),lineGS=document.querySelector(".gallery-line"),arrLeftGS=document.querySelector(".arrow-left-gallery"),arrRightGS=document.querySelector(".arrow-right-gallery"),pictures=document.querySelectorAll(".scrolled-picture"),pictureWidthGS=pictures[0].getBoundingClientRect().width+12,widthGS=Math.round(lineGS.getBoundingClientRect().width),lineSPS=document.querySelector(".sponsor"),arrLeftSPS=document.querySelector(".arrow-left-sp"),arrRightSPS=document.querySelector(".arrow-right-sp"),sponsors=document.querySelectorAll(".sponsor-img-wrap"),sponsorWidthSPS=sponsors[0].getBoundingClientRect().width,widthSPS=Math.round(lineSPS.getBoundingClientRect().width),lineSS=document.querySelector(".shop-products"),arrLeftSS=document.querySelector(".arrow-left-shop"),arrRightSS=document.querySelector(".arrow-right-shop"),products=document.querySelectorAll(".shop-product"),productWidthSS=products[0].getBoundingClientRect().width+30,widthSS=Math.round(lineSS.getBoundingClientRect().width),popupBg=document.querySelector(".popup-bg"),singUpButton=document.querySelectorAll(".sing-up-button"),singUpPopup=document.querySelector(".sing-up"),singInButton=document.querySelectorAll(".sing-in-button"),singInPopup=document.querySelector(".sing-in"),forgotPasswordButton=document.querySelector(".forgot-password-button"),forgotPasswordPopup=document.querySelector(".forgot-password"),printerButton=document.querySelector(".service-3d-printer"),printerPopup=document.querySelector(".printer-popup"),sittingButton=document.querySelector(".service-sitting"),sittingPopup=document.querySelector(".sittig-popup"),wifiButton=document.querySelector(".service-wifi"),wifiPopup=document.querySelector(".wifi-popup"),printButton=document.querySelector(".service-print"),printPopup=document.querySelector(".print-popup"),microwaveButton=document.querySelector(".service-microwave"),microwavePopup=document.querySelector(".microwave-popup"),basketButton=document.querySelector(".basket"),basketPopup=document.querySelector(".basket-popup"),closeButtons=document.querySelectorAll(".close"),orderProducts=document.querySelectorAll(".product"),productPlus=document.querySelectorAll(".product-plus"),productMinus=document.querySelectorAll(".product-minus"),productQuantify=document.querySelectorAll(".product-amount"),price=document.querySelectorAll(".price"),productPrice=document.querySelectorAll(".product-price"),deleteProduct=document.querySelectorAll(".delete-product"),productOrderInfo=document.querySelectorAll(".product-order-info"),sumPrice=document.querySelector(".sum-price"),totalPrice=0;function menu(){"false"==burger.getAttribute("data-active-check")?(burger.dataset.activeCheck="true",menuLine.classList.add("burger-menu-active"),burgerMenu.style.display="block"):"true"==burger.getAttribute("data-active-check")&&(burger.dataset.activeCheck="false",menuLine.classList.remove("burger-menu-active"),burgerMenu.style.display="none",burgerMenu.removeAttribute("style"))}function leftHS(e){lineLeft(e,lineHS,imgWidthHS)}function rightHS(e){lineRight(e,lineHS,widthHS,imgWidthHS)}function falseS(){return!1}function lineLeft(e,t,r){e.preventDefault(),0==t.scrollLeft?t.scroll(t.scrollWidth,0):t.scroll(t.scrollLeft-r,0)}function lineRight(e,t,r,o){e.preventDefault(),Math.round(t.scrollLeft)-10<=t.scrollWidth-r&&Math.round(t.scrollLeft)+10>=t.scrollWidth-r?t.scroll(0,0):t.scroll(t.scrollLeft+=o,0)}function leftAUS(e){lineLeft(e,lineAUS,eventWidthAUS)}function rightAUS(e){lineRight(e,lineAUS,widthAUS,eventWidthAUS)}function leftGS(e){lineLeft(e,lineGS,pictureWidthGS)}function rightGS(e){lineRight(e,lineGS,widthGS,pictureWidthGS)}function leftSPS(e){lineLeft(e,lineSPS,sponsorWidthSPS)}function rightSPS(e){lineRight(e,lineSPS,widthSPS,sponsorWidthSPS)}function leftSS(e){lineLeft(e,lineSS,productWidthSS)}function rightSS(e){lineRight(e,lineSS,widthSS,productWidthSS)}function popupOpen(e,t){e.preventDefault(),checkActivePopup(),t.classList.add("active-popup"),popupBg.style.display="block",activePopup=document.querySelector(".active-popup"),popupBg.onclick=checkClick}function closePopup(){activePopup.classList.remove("active-popup"),popupBg.style.display="none"}function checkActivePopup(){null!=activePopup&&activePopup.classList.remove("active-popup")}function checkClick(e){e.target==popupBg&&(popupBg.style.display="none",activePopup.classList.remove("active-popup"))}function singUpOpen(e){popupOpen(e,singUpPopup)}function singInOpen(e){popupOpen(e,singInPopup)}function forgotPasswordOpen(e){popupOpen(e,forgotPasswordPopup)}function printerOpen(e){popupOpen(e,printerPopup)}function sittingOpen(e){popupOpen(e,sittingPopup)}function wifiOpen(e){popupOpen(e,wifiPopup)}function printOpen(e){popupOpen(e,printPopup)}function microwaveOpen(e){popupOpen(e,microwavePopup)}function basketOpen(e){popupOpen(e,basketPopup)}for(burger.dataset.activeCheck="false",burger.onclick=menu,profile.onclick=e=>{e.preventDefault(),profile.classList.contains("profile-menu-active")?(profile.classList.remove("profile-menu-active"),profileMenu.style.display="none"):(profile.classList.add("profile-menu-active"),profileMenu.style.display="flex")},arrLeftHS.onclick=leftHS,arrRightHS.onclick=rightHS,arrLeftHS.ondblclick=falseS,arrRightHS.ondblclick=falseS,arrLeftAUS.onclick=leftAUS,arrRightAUS.onclick=rightAUS,arrLeftAUS.ondblclick=falseS,arrRightAUS.ondblclick=falseS,arrLeftGS.onclick=leftGS,arrRightGS.onclick=rightGS,arrLeftGS.ondblclick=falseS,arrRightGS.ondblclick=falseS,arrLeftSPS.onclick=leftSPS,arrRightSPS.onclick=rightSPS,arrLeftSPS.ondblclick=falseS,arrRightSPS.ondblclick=falseS,arrLeftSS.onclick=leftSS,arrRightSS.onclick=rightSS,arrLeftSS.ondblclick=falseS,arrRightSS.ondblclick=falseS,closeButtons.forEach(e=>{e.onclick=closePopup}),singUpButton.forEach(e=>{e.onclick=singUpOpen}),singInButton.forEach(e=>{e.onclick=singInOpen}),forgotPasswordButton.onclick=forgotPasswordOpen,printerButton.onclick=printerOpen,sittingButton.onclick=sittingOpen,wifiButton.onclick=wifiOpen,printButton.onclick=printOpen,microwaveButton.onclick=microwaveOpen,basketButton.onclick=basketOpen,i=0;i<orderProducts.length;i++)orderProducts[i].dataset.productNumber=i,productOrderInfo[i].dataset.productNumber=i,productPrice[i].dataset.productStartingPrice=productPrice[i].textContent.slice(0,productPrice[i].textContent.length-1),productPrice[i].dataset.productPrice=productPrice[i].textContent.slice(0,productPrice[i].textContent.length-1);function prMinus(e){if(e.preventDefault(),productNumber=this.closest(".product-order-info").getAttribute("data-product-number"),!(this.nextElementSibling.firstChild.value>0))return!1;productQuantify[productNumber].value=productQuantify[productNumber].value-1,productPrice[productNumber].innerHTML=parseInt(productPrice[productNumber].getAttribute("data-product-price"))-parseInt(productPrice[productNumber].getAttribute("data-product-starting-price"))+"$",productPrice[productNumber].dataset.productPrice=productPrice[productNumber].textContent.slice(0,productPrice[productNumber].textContent.length-1),totalPriceCount()}function prPlus(e){e.preventDefault(),productNumber=this.closest(".product-order-info").getAttribute("data-product-number"),productQuantify[productNumber].value=parseInt(productQuantify[productNumber].value)+1,productPrice[productNumber].innerHTML=parseInt(productPrice[productNumber].getAttribute("data-product-starting-price"))+parseInt(productPrice[productNumber].getAttribute("data-product-price"))+"$",productPrice[productNumber].dataset.productPrice=productPrice[productNumber].textContent.slice(0,productPrice[productNumber].textContent.length-1),totalPriceCount()}function totalPriceCount(){productPrice.forEach(e=>{totalPrice+=parseInt(e.getAttribute("data-product-price")),console.log(parseInt(e.getAttribute("data-product-price")))}),sumPrice.innerHTML=totalPrice+"$",totalPrice=0}productMinus.forEach(e=>{e.onclick=prMinus}),productPlus.forEach(e=>{e.onclick=prPlus});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiYWN0aXZlUG9wdXAiLCJwcm9kdWN0TnVtYmVyIiwic2NyZWVuV2lkdGgiLCJkb2N1bWVudCIsImJvZHkiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsInByb2ZpbGUiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmlsZU1lbnUiLCJidXJnZXIiLCJidXJnZXJNZW51IiwibWVudUxpbmUiLCJsaW5lSFMiLCJhcnJMZWZ0SFMiLCJhcnJSaWdodEhTIiwiaW1nSFMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW1nV2lkdGhIUyIsIndpZHRoSFMiLCJNYXRoIiwicm91bmQiLCJsaW5lQVVTIiwiYXJyTGVmdEFVUyIsImFyclJpZ2h0QVVTIiwiZXZlbnRzIiwiZXZlbnRXaWR0aEFVUyIsIndpZHRoQVVTIiwibGluZUdTIiwiYXJyTGVmdEdTIiwiYXJyUmlnaHRHUyIsInBpY3R1cmVzIiwicGljdHVyZVdpZHRoR1MiLCJ3aWR0aEdTIiwibGluZVNQUyIsImFyckxlZnRTUFMiLCJhcnJSaWdodFNQUyIsInNwb25zb3JzIiwic3BvbnNvcldpZHRoU1BTIiwid2lkdGhTUFMiLCJsaW5lU1MiLCJhcnJMZWZ0U1MiLCJhcnJSaWdodFNTIiwicHJvZHVjdHMiLCJwcm9kdWN0V2lkdGhTUyIsIndpZHRoU1MiLCJwb3B1cEJnIiwic2luZ1VwQnV0dG9uIiwic2luZ1VwUG9wdXAiLCJzaW5nSW5CdXR0b24iLCJzaW5nSW5Qb3B1cCIsImZvcmdvdFBhc3N3b3JkQnV0dG9uIiwiZm9yZ290UGFzc3dvcmRQb3B1cCIsInByaW50ZXJCdXR0b24iLCJwcmludGVyUG9wdXAiLCJzaXR0aW5nQnV0dG9uIiwic2l0dGluZ1BvcHVwIiwid2lmaUJ1dHRvbiIsIndpZmlQb3B1cCIsInByaW50QnV0dG9uIiwicHJpbnRQb3B1cCIsIm1pY3Jvd2F2ZUJ1dHRvbiIsIm1pY3Jvd2F2ZVBvcHVwIiwiYmFza2V0QnV0dG9uIiwiYmFza2V0UG9wdXAiLCJjbG9zZUJ1dHRvbnMiLCJvcmRlclByb2R1Y3RzIiwicHJvZHVjdFBsdXMiLCJwcm9kdWN0TWludXMiLCJwcm9kdWN0UXVhbnRpZnkiLCJwcmljZSIsInByb2R1Y3RQcmljZSIsImRlbGV0ZVByb2R1Y3QiLCJwcm9kdWN0T3JkZXJJbmZvIiwic3VtUHJpY2UiLCJ0b3RhbFByaWNlIiwibWVudSIsImdldEF0dHJpYnV0ZSIsImRhdGFzZXQiLCJhY3RpdmVDaGVjayIsImNsYXNzTGlzdCIsImFkZCIsInN0eWxlIiwiZGlzcGxheSIsInJlbW92ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImxlZnRIUyIsImV2ZW50IiwibGluZUxlZnQiLCJyaWdodEhTIiwibGluZVJpZ2h0IiwiZmFsc2VTIiwibGluZSIsInNjcm9sbFdpZHRoIiwicHJldmVudERlZmF1bHQiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsIiwibGluZVNob3dlZFdpZHRoIiwibGVmdEFVUyIsInJpZ2h0QVVTIiwibGVmdEdTIiwicmlnaHRHUyIsImxlZnRTUFMiLCJyaWdodFNQUyIsImxlZnRTUyIsInJpZ2h0U1MiLCJwb3B1cE9wZW4iLCJwb3B1cCIsImNoZWNrQWN0aXZlUG9wdXAiLCJvbmNsaWNrIiwiY2hlY2tDbGljayIsImNsb3NlUG9wdXAiLCJ1bmRlZmluZWQiLCJlIiwidGFyZ2V0Iiwic2luZ1VwT3BlbiIsInNpbmdJbk9wZW4iLCJmb3Jnb3RQYXNzd29yZE9wZW4iLCJwcmludGVyT3BlbiIsInNpdHRpbmdPcGVuIiwid2lmaU9wZW4iLCJwcmludE9wZW4iLCJtaWNyb3dhdmVPcGVuIiwiYmFza2V0T3BlbiIsImNvbnRhaW5zIiwib25kYmxjbGljayIsImZvckVhY2giLCJlbGVtZW50IiwiZWxlbSIsImkiLCJsZW5ndGgiLCJwcm9kdWN0U3RhcnRpbmdQcmljZSIsInRleHRDb250ZW50Iiwic2xpY2UiLCJwck1pbnVzIiwidGhpcyIsImNsb3Nlc3QiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJmaXJzdENoaWxkIiwidmFsdWUiLCJpbm5lckhUTUwi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RixPQUFPLEdBQ25KWSxrQkFVSixTQUFTQyxPQUFReEQsR0FDZkEsRUFBTU8saUJBQ043RixjQUFnQnNJLEtBQUtDLFFBQVEsdUJBQXVCM0QsYUFBYSx1QkFDakVSLGdCQUFnQnBFLGVBQWUwSSxNQUFRRSxTQUFTeEUsZ0JBQWdCcEUsZUFBZTBJLE9BQVMsRUFDeEZwRSxhQUFhdEUsZUFBZTJJLFVBQWVDLFNBQVN0RSxhQUFhdEUsZUFBZTRFLGFBQWEsZ0NBQWtDZ0UsU0FBU3RFLGFBQWF0RSxlQUFlNEUsYUFBYSx1QkFBekksSUFDeENOLGFBQWF0RSxlQUFlNkUsUUFBUVAsYUFBZUEsYUFBYXRFLGVBQWVtSSxZQUFZQyxNQUFNLEVBQUc5RCxhQUFhdEUsZUFBZW1JLFlBQVlGLE9BQU8sR0FDbkpZLGtCQUdGLFNBQVNBLGtCQUNQdkUsYUFBYXVELFFBQVNFLElBQ3BCckQsWUFBMEJrRSxTQUFTYixFQUFLbkQsYUFBYSx1QkFDckRtRSxRQUFRQyxJQUFJSixTQUFTYixFQUFLbkQsYUFBYSwwQkFFekNILFNBQVNrRSxVQUFlakUsV0FBSCxJQUNyQkEsV0FBYSxFQXBDZlAsYUFBYTBELFFBQVNFLElBQ3BCQSxFQUFLbkIsUUFBVXlCLFVBZ0JqQm5FLFlBQVkyRCxRQUFTRSxJQUNuQkEsRUFBS25CLFFBQVVrQyIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHNjcmVlbldpZHRoID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCwgICAgICAvL3NjcmVlbiB3aWR0aCBmb3IgYWRhcHRpdmVcclxuICAgIC8vcHJvZmlsZVxyXG4gICAgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZVwiKSxcclxuICAgIHByb2ZpbGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaW5nLW1lbnVcIiksXHJcbiAgICAvL2J1cmdlciBtZW51XHJcbiAgICBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlclwiKSxcclxuICAgIGJ1cmdlck1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1tZW51XCIpLFxyXG4gICAgbWVudUxpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkYXB0aXZlLWhlYWRlci1saW5lXCIpLFxyXG4gICAgLy9oZWFkZXIgc2xpZGVyIChIUylcclxuICAgIGxpbmVIUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9zXCIpLFxyXG4gICAgYXJyTGVmdEhTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnJvdy1sZWZ0XCIpLFxyXG4gICAgYXJyUmlnaHRIUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3ctcmlnaHRcIiksXHJcbiAgICBpbWdIUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGVhZGVyLXNsaWRlci1pbWdcIiksXHJcbiAgICBpbWdXaWR0aEhTID0gaW1nSFNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXHJcbiAgICB3aWR0aEhTID0gTWF0aC5yb3VuZChsaW5lSFMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpLFxyXG4gICAgLy9hYm91dCB1cyBzbGlkZXIgKEFVUylcclxuICAgIGxpbmVBVVMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmV2ZW50cy1saW5lXCIpLFxyXG4gICAgYXJyTGVmdEFVUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3ctbGVmdC1hdXNcIiksXHJcbiAgICBhcnJSaWdodEFVUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3ctcmlnaHQtYXVzXCIpLFxyXG4gICAgZXZlbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5ldmVudFwiKSxcclxuICAgIGV2ZW50V2lkdGhBVVMgPSBldmVudHNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAzMCxcclxuICAgIHdpZHRoQVVTID0gTWF0aC5yb3VuZChsaW5lQVVTLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKSxcclxuICAgIC8vZ2FsbGVyeSBzbGlkZXIgKEdTKVxyXG4gICAgbGluZUdTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWxpbmVcIiksXHJcbiAgICBhcnJMZWZ0R1MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFycm93LWxlZnQtZ2FsbGVyeVwiKSxcclxuICAgIGFyclJpZ2h0R1MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFycm93LXJpZ2h0LWdhbGxlcnlcIiksXHJcbiAgICBwaWN0dXJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2Nyb2xsZWQtcGljdHVyZVwiKSxcclxuICAgIHBpY3R1cmVXaWR0aEdTID0gcGljdHVyZXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAxMixcclxuICAgIHdpZHRoR1MgPSBNYXRoLnJvdW5kKGxpbmVHUy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCksXHJcbiAgICAvL3Nwb25zb3Igc2xpZGVyIChTUFMpXHJcbiAgICBsaW5lU1BTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zcG9uc29yXCIpLFxyXG4gICAgYXJyTGVmdFNQUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3ctbGVmdC1zcFwiKSxcclxuICAgIGFyclJpZ2h0U1BTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnJvdy1yaWdodC1zcFwiKSxcclxuICAgIHNwb25zb3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zcG9uc29yLWltZy13cmFwXCIpLFxyXG4gICAgc3BvbnNvcldpZHRoU1BTID0gc3BvbnNvcnNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXHJcbiAgICB3aWR0aFNQUyA9IE1hdGgucm91bmQobGluZVNQUy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCksXHJcbiAgICAvL3Nob3Agc2xpZGVyIChTUylcclxuICAgIGxpbmVTUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2hvcC1wcm9kdWN0c1wiKSxcclxuICAgIGFyckxlZnRTUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3ctbGVmdC1zaG9wXCIpLFxyXG4gICAgYXJyUmlnaHRTUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3ctcmlnaHQtc2hvcFwiKSxcclxuICAgIHByb2R1Y3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaG9wLXByb2R1Y3RcIiksXHJcbiAgICBwcm9kdWN0V2lkdGhTUyA9IHByb2R1Y3RzWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgMzAsXHJcbiAgICB3aWR0aFNTID0gTWF0aC5yb3VuZChsaW5lU1MuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpLFxyXG4gICAgLy9wb3B1cHMgXHJcbiAgICBwb3B1cEJnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1iZ1wiKSxcclxuICAgIHNpbmdVcEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2luZy11cC1idXR0b25cIiksXHJcbiAgICBzaW5nVXBQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2luZy11cFwiKSxcclxuICAgIHNpbmdJbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2luZy1pbi1idXR0b25cIiksXHJcbiAgICBzaW5nSW5Qb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2luZy1pblwiKSxcclxuICAgIGZvcmdvdFBhc3N3b3JkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3Jnb3QtcGFzc3dvcmQtYnV0dG9uXCIpLFxyXG4gICAgZm9yZ290UGFzc3dvcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9yZ290LXBhc3N3b3JkXCIpLFxyXG4gICAgcHJpbnRlckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VydmljZS0zZC1wcmludGVyXCIpLFxyXG4gICAgcHJpbnRlclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcmludGVyLXBvcHVwXCIpLFxyXG4gICAgc2l0dGluZ0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VydmljZS1zaXR0aW5nXCIpLFxyXG4gICAgc2l0dGluZ1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaXR0aWctcG9wdXBcIiksXHJcbiAgICB3aWZpQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZXJ2aWNlLXdpZmlcIiksXHJcbiAgICB3aWZpUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpZmktcG9wdXBcIiksXHJcbiAgICBwcmludEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VydmljZS1wcmludFwiKSxcclxuICAgIHByaW50UG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByaW50LXBvcHVwXCIpLFxyXG4gICAgbWljcm93YXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZXJ2aWNlLW1pY3Jvd2F2ZVwiKSxcclxuICAgIG1pY3Jvd2F2ZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5taWNyb3dhdmUtcG9wdXBcIiksXHJcbiAgICBiYXNrZXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJhc2tldFwiKSxcclxuICAgIGJhc2tldFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iYXNrZXQtcG9wdXBcIiksXHJcbiAgICBjbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNsb3NlXCIpLFxyXG4gICAgYWN0aXZlUG9wdXAsXHJcbiAgICAvL29yZGVyIG1lbnVcclxuICAgIG9yZGVyUHJvZHVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3RcIiksXHJcbiAgICBwcm9kdWN0UGx1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1wbHVzXCIpLFxyXG4gICAgcHJvZHVjdE1pbnVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9kdWN0LW1pbnVzXCIpLFxyXG4gICAgcHJvZHVjdFF1YW50aWZ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9kdWN0LWFtb3VudFwiKSxcclxuICAgIHByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcmljZVwiKSxcclxuICAgIHByb2R1Y3RQcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1wcmljZVwiKSwgLy8gaW4gcG9wdXBcclxuICAgIGRlbGV0ZVByb2R1Y3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlbGV0ZS1wcm9kdWN0XCIpLFxyXG4gICAgcHJvZHVjdE9yZGVySW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1vcmRlci1pbmZvXCIpLFxyXG4gICAgc3VtUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1bS1wcmljZVwiKSxcclxuICAgIHRvdGFsUHJpY2UgPSAwLFxyXG4gICAgcHJvZHVjdE51bWJlclxyXG5cclxuYnVyZ2VyLmRhdGFzZXQuYWN0aXZlQ2hlY2sgPSBcImZhbHNlXCJcclxuXHJcbmJ1cmdlci5vbmNsaWNrID0gbWVudVxyXG5cclxuZnVuY3Rpb24gbWVudSAoKXtcclxuICBpZihidXJnZXIuZ2V0QXR0cmlidXRlKFwiZGF0YS1hY3RpdmUtY2hlY2tcIikgPT0gXCJmYWxzZVwiKXtcclxuICAgIGJ1cmdlci5kYXRhc2V0LmFjdGl2ZUNoZWNrID0gXCJ0cnVlXCJcclxuICAgIG1lbnVMaW5lLmNsYXNzTGlzdC5hZGQoXCJidXJnZXItbWVudS1hY3RpdmVcIilcclxuICAgIGJ1cmdlck1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxyXG4gIH1lbHNlIGlmKGJ1cmdlci5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFjdGl2ZS1jaGVja1wiKSA9PSBcInRydWVcIil7XHJcbiAgICBidXJnZXIuZGF0YXNldC5hY3RpdmVDaGVjayA9IFwiZmFsc2VcIlxyXG4gICAgbWVudUxpbmUuY2xhc3NMaXN0LnJlbW92ZShcImJ1cmdlci1tZW51LWFjdGl2ZVwiKVxyXG4gICAgYnVyZ2VyTWVudS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgIGJ1cmdlck1lbnUucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIilcclxuICB9XHJcbn0gXHJcblxyXG5wcm9maWxlLm9uY2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgaWYocHJvZmlsZS5jbGFzc0xpc3QuY29udGFpbnMoXCJwcm9maWxlLW1lbnUtYWN0aXZlXCIpKXtcclxuICAgIHByb2ZpbGUuY2xhc3NMaXN0LnJlbW92ZShcInByb2ZpbGUtbWVudS1hY3RpdmVcIilcclxuICAgIHByb2ZpbGVNZW51LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxyXG4gIH1lbHNle1xyXG4gICAgcHJvZmlsZS5jbGFzc0xpc3QuYWRkKFwicHJvZmlsZS1tZW51LWFjdGl2ZVwiKVxyXG4gICAgcHJvZmlsZU1lbnUuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiXHJcbiAgfVxyXG59XHJcblxyXG4vL2hlYWRlciBzbGlkZXIgKEhTKVxyXG5cclxuYXJyTGVmdEhTLm9uY2xpY2sgPSBsZWZ0SFNcclxuYXJyUmlnaHRIUy5vbmNsaWNrID0gcmlnaHRIU1xyXG5hcnJMZWZ0SFMub25kYmxjbGljayA9IGZhbHNlU1xyXG5hcnJSaWdodEhTLm9uZGJsY2xpY2sgPSBmYWxzZVNcclxuXHJcbmZ1bmN0aW9uIGxlZnRIUyAoZXZlbnQpe1xyXG4gIGxpbmVMZWZ0KGV2ZW50LCBsaW5lSFMsIGltZ1dpZHRoSFMpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJpZ2h0SFMgKGV2ZW50KXtcclxuICBsaW5lUmlnaHQoZXZlbnQsIGxpbmVIUywgd2lkdGhIUywgaW1nV2lkdGhIUylcclxufVxyXG5cclxuZnVuY3Rpb24gZmFsc2VTICgpe1xyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gbGluZUxlZnQgKGV2ZW50LCBsaW5lLCBzY3JvbGxXaWR0aCl7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gIGlmKGxpbmUuc2Nyb2xsTGVmdCA9PSAwKXtcclxuICAgIGxpbmUuc2Nyb2xsKGxpbmUuc2Nyb2xsV2lkdGgsIDApXHJcbiAgfWVsc2V7XHJcbiAgICBsaW5lLnNjcm9sbChsaW5lLnNjcm9sbExlZnQtc2Nyb2xsV2lkdGgsIDApXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBsaW5lUmlnaHQgKGV2ZW50LCBsaW5lLCBsaW5lU2hvd2VkV2lkdGgsIHNjcm9sbFdpZHRoKXtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgaWYoTWF0aC5yb3VuZChsaW5lLnNjcm9sbExlZnQpLTEwIDw9IGxpbmUuc2Nyb2xsV2lkdGggLSBsaW5lU2hvd2VkV2lkdGggJiYgTWF0aC5yb3VuZChsaW5lLnNjcm9sbExlZnQpKzEwID49IGxpbmUuc2Nyb2xsV2lkdGggLSBsaW5lU2hvd2VkV2lkdGgpe1xyXG4gICAgbGluZS5zY3JvbGwoMCwgMClcclxuICB9ZWxzZXtcclxuICAgIGxpbmUuc2Nyb2xsKGxpbmUuc2Nyb2xsTGVmdCs9c2Nyb2xsV2lkdGgsIDApXHJcbiAgfVxyXG59XHJcblxyXG4vL2Fib3V0IHVzIHNsaWRlciAoQVVTKVxyXG5cclxuYXJyTGVmdEFVUy5vbmNsaWNrID0gbGVmdEFVU1xyXG5hcnJSaWdodEFVUy5vbmNsaWNrID0gcmlnaHRBVVNcclxuYXJyTGVmdEFVUy5vbmRibGNsaWNrID0gZmFsc2VTXHJcbmFyclJpZ2h0QVVTLm9uZGJsY2xpY2sgPSBmYWxzZVNcclxuXHJcbmZ1bmN0aW9uIGxlZnRBVVMgKGV2ZW50KXtcclxuICBsaW5lTGVmdChldmVudCwgbGluZUFVUywgZXZlbnRXaWR0aEFVUylcclxufVxyXG5cclxuZnVuY3Rpb24gcmlnaHRBVVMgKGV2ZW50KXtcclxuICBsaW5lUmlnaHQoZXZlbnQsIGxpbmVBVVMsIHdpZHRoQVVTLCBldmVudFdpZHRoQVVTKVxyXG59XHJcblxyXG4vL2dhbGxlcnkgc2xpZGVyIChHUylcclxuXHJcbmFyckxlZnRHUy5vbmNsaWNrID0gbGVmdEdTXHJcbmFyclJpZ2h0R1Mub25jbGljayA9IHJpZ2h0R1NcclxuYXJyTGVmdEdTLm9uZGJsY2xpY2sgPSBmYWxzZVNcclxuYXJyUmlnaHRHUy5vbmRibGNsaWNrID0gZmFsc2VTXHJcblxyXG5mdW5jdGlvbiBsZWZ0R1MgKGV2ZW50KXtcclxuICBsaW5lTGVmdChldmVudCwgbGluZUdTLCBwaWN0dXJlV2lkdGhHUylcclxufVxyXG5cclxuZnVuY3Rpb24gcmlnaHRHUyAoZXZlbnQpe1xyXG4gIGxpbmVSaWdodChldmVudCwgbGluZUdTLCB3aWR0aEdTLCBwaWN0dXJlV2lkdGhHUylcclxufVxyXG5cclxuLy9zcG9uc29yIHNsaWRlciAoU1BTKVxyXG5cclxuYXJyTGVmdFNQUy5vbmNsaWNrID0gbGVmdFNQU1xyXG5hcnJSaWdodFNQUy5vbmNsaWNrID0gcmlnaHRTUFNcclxuYXJyTGVmdFNQUy5vbmRibGNsaWNrID0gZmFsc2VTXHJcbmFyclJpZ2h0U1BTLm9uZGJsY2xpY2sgPSBmYWxzZVNcclxuXHJcbmZ1bmN0aW9uIGxlZnRTUFMgKGV2ZW50KXtcclxuICBsaW5lTGVmdChldmVudCwgbGluZVNQUywgc3BvbnNvcldpZHRoU1BTKVxyXG59XHJcblxyXG5mdW5jdGlvbiByaWdodFNQUyAoZXZlbnQpe1xyXG4gIGxpbmVSaWdodChldmVudCwgbGluZVNQUywgd2lkdGhTUFMsIHNwb25zb3JXaWR0aFNQUylcclxufVxyXG5cclxuLy9zaG9wIHNsaWRlciAoU1MpXHJcblxyXG5hcnJMZWZ0U1Mub25jbGljayA9IGxlZnRTU1xyXG5hcnJSaWdodFNTLm9uY2xpY2sgPSByaWdodFNTXHJcbmFyckxlZnRTUy5vbmRibGNsaWNrID0gZmFsc2VTXHJcbmFyclJpZ2h0U1Mub25kYmxjbGljayA9IGZhbHNlU1xyXG5cclxuZnVuY3Rpb24gbGVmdFNTIChldmVudCl7XHJcbiAgbGluZUxlZnQoZXZlbnQsIGxpbmVTUywgcHJvZHVjdFdpZHRoU1MpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJpZ2h0U1MgKGV2ZW50KXtcclxuICBsaW5lUmlnaHQoZXZlbnQsIGxpbmVTUywgd2lkdGhTUywgcHJvZHVjdFdpZHRoU1MpXHJcbn1cclxuXHJcbi8vcG9wdXBzIFxyXG5cclxuZnVuY3Rpb24gcG9wdXBPcGVuIChldmVudCwgcG9wdXApe1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICBjaGVja0FjdGl2ZVBvcHVwKClcclxuICBwb3B1cC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLXBvcHVwXCIpXHJcbiAgcG9wdXBCZy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXHJcbiAgYWN0aXZlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFjdGl2ZS1wb3B1cFwiKVxyXG4gIHBvcHVwQmcub25jbGljayA9IGNoZWNrQ2xpY2tcclxufVxyXG5cclxuY2xvc2VCdXR0b25zLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgZWxlbWVudC5vbmNsaWNrID0gY2xvc2VQb3B1cFxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNsb3NlUG9wdXAgKCl7XHJcbiAgYWN0aXZlUG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1wb3B1cFwiKVxyXG4gIHBvcHVwQmcuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrQWN0aXZlUG9wdXAgKCl7XHJcbiAgaWYoYWN0aXZlUG9wdXAgIT0gdW5kZWZpbmVkKXtcclxuICAgIGFjdGl2ZVBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtcG9wdXBcIilcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrQ2xpY2sgKGUpe1xyXG4gIGlmKGUudGFyZ2V0ID09IHBvcHVwQmcpe1xyXG4gICAgcG9wdXBCZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgIGFjdGl2ZVBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtcG9wdXBcIilcclxuICB9IFxyXG59XHJcblxyXG5zaW5nVXBCdXR0b24uZm9yRWFjaCgoZWxlbSk9PntcclxuICBlbGVtLm9uY2xpY2sgPSBzaW5nVXBPcGVuXHJcbn0pXHJcblxyXG5mdW5jdGlvbiBzaW5nVXBPcGVuIChldmVudCl7XHJcbiAgcG9wdXBPcGVuIChldmVudCwgc2luZ1VwUG9wdXApXHJcbn1cclxuXHJcbnNpbmdJbkJ1dHRvbi5mb3JFYWNoKChlbGVtKT0+e1xyXG4gIGVsZW0ub25jbGljayA9IHNpbmdJbk9wZW5cclxufSlcclxuXHJcbmZ1bmN0aW9uIHNpbmdJbk9wZW4gKGV2ZW50KXtcclxuICBwb3B1cE9wZW4gKGV2ZW50LCBzaW5nSW5Qb3B1cClcclxufVxyXG5cclxuZm9yZ290UGFzc3dvcmRCdXR0b24ub25jbGljayA9IGZvcmdvdFBhc3N3b3JkT3BlblxyXG5cclxuZnVuY3Rpb24gZm9yZ290UGFzc3dvcmRPcGVuIChldmVudCl7XHJcbiAgcG9wdXBPcGVuIChldmVudCwgZm9yZ290UGFzc3dvcmRQb3B1cClcclxufVxyXG5cclxucHJpbnRlckJ1dHRvbi5vbmNsaWNrID0gcHJpbnRlck9wZW5cclxuXHJcbmZ1bmN0aW9uIHByaW50ZXJPcGVuIChldmVudCl7XHJcbiAgcG9wdXBPcGVuIChldmVudCwgcHJpbnRlclBvcHVwKVxyXG59XHJcblxyXG5zaXR0aW5nQnV0dG9uLm9uY2xpY2sgPSBzaXR0aW5nT3BlblxyXG5cclxuZnVuY3Rpb24gc2l0dGluZ09wZW4gKGV2ZW50KXtcclxuICBwb3B1cE9wZW4gKGV2ZW50LCBzaXR0aW5nUG9wdXApXHJcbn1cclxuXHJcbndpZmlCdXR0b24ub25jbGljayA9IHdpZmlPcGVuXHJcblxyXG5mdW5jdGlvbiB3aWZpT3BlbiAoZXZlbnQpe1xyXG4gIHBvcHVwT3BlbiAoZXZlbnQsIHdpZmlQb3B1cClcclxufVxyXG5cclxucHJpbnRCdXR0b24ub25jbGljayA9IHByaW50T3BlblxyXG5cclxuZnVuY3Rpb24gcHJpbnRPcGVuIChldmVudCl7XHJcbiAgcG9wdXBPcGVuIChldmVudCwgcHJpbnRQb3B1cClcclxufVxyXG5cclxubWljcm93YXZlQnV0dG9uLm9uY2xpY2sgPSBtaWNyb3dhdmVPcGVuXHJcblxyXG5mdW5jdGlvbiBtaWNyb3dhdmVPcGVuIChldmVudCl7XHJcbiAgcG9wdXBPcGVuIChldmVudCwgbWljcm93YXZlUG9wdXApXHJcbn1cclxuXHJcbmJhc2tldEJ1dHRvbi5vbmNsaWNrID0gYmFza2V0T3BlblxyXG5cclxuZnVuY3Rpb24gYmFza2V0T3BlbiAoZXZlbnQpe1xyXG4gIHBvcHVwT3BlbiAoZXZlbnQsIGJhc2tldFBvcHVwKVxyXG59XHJcblxyXG4vL29yZGVyIG1lbnUgXHJcblxyXG5mb3IoaSA9IDA7IGkgPCBvcmRlclByb2R1Y3RzLmxlbmd0aDsgaSsrKXtcclxuICBvcmRlclByb2R1Y3RzW2ldLmRhdGFzZXQucHJvZHVjdE51bWJlciA9IGlcclxuICBwcm9kdWN0T3JkZXJJbmZvW2ldLmRhdGFzZXQucHJvZHVjdE51bWJlciA9IGlcclxuICBwcm9kdWN0UHJpY2VbaV0uZGF0YXNldC5wcm9kdWN0U3RhcnRpbmdQcmljZSA9IHByb2R1Y3RQcmljZVtpXS50ZXh0Q29udGVudC5zbGljZSgwLCBwcm9kdWN0UHJpY2VbaV0udGV4dENvbnRlbnQubGVuZ3RoLTEpXHJcbiAgcHJvZHVjdFByaWNlW2ldLmRhdGFzZXQucHJvZHVjdFByaWNlID0gcHJvZHVjdFByaWNlW2ldLnRleHRDb250ZW50LnNsaWNlKDAsIHByb2R1Y3RQcmljZVtpXS50ZXh0Q29udGVudC5sZW5ndGgtMSlcclxufVxyXG5cclxucHJvZHVjdE1pbnVzLmZvckVhY2goKGVsZW0pPT57XHJcbiAgZWxlbS5vbmNsaWNrID0gcHJNaW51c1xyXG59KVxyXG5cclxuZnVuY3Rpb24gcHJNaW51cyAoZXZlbnQpe1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICBwcm9kdWN0TnVtYmVyID0gdGhpcy5jbG9zZXN0KFwiLnByb2R1Y3Qtb3JkZXItaW5mb1wiKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3QtbnVtYmVyXCIpXHJcbiAgaWYodGhpcy5uZXh0RWxlbWVudFNpYmxpbmcuZmlyc3RDaGlsZC52YWx1ZSA+IDApe1xyXG4gICAgcHJvZHVjdFF1YW50aWZ5W3Byb2R1Y3ROdW1iZXJdLnZhbHVlID0gcHJvZHVjdFF1YW50aWZ5W3Byb2R1Y3ROdW1iZXJdLnZhbHVlIC0gMVxyXG4gICAgcHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLmlubmVySFRNTCA9IGAke3BhcnNlSW50KHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3QtcHJpY2VcIikpIC0gcGFyc2VJbnQocHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZHVjdC1zdGFydGluZy1wcmljZVwiKSl9JGBcclxuICAgIHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS5kYXRhc2V0LnByb2R1Y3RQcmljZSA9IHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS50ZXh0Q29udGVudC5zbGljZSgwLCBwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0udGV4dENvbnRlbnQubGVuZ3RoLTEpXHJcbiAgICB0b3RhbFByaWNlQ291bnQoKVxyXG4gIH1lbHNle1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG59XHJcblxyXG5wcm9kdWN0UGx1cy5mb3JFYWNoKChlbGVtKT0+e1xyXG4gIGVsZW0ub25jbGljayA9IHByUGx1c1xyXG59KVxyXG5cclxuZnVuY3Rpb24gcHJQbHVzIChldmVudCl7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gIHByb2R1Y3ROdW1iZXIgPSB0aGlzLmNsb3Nlc3QoXCIucHJvZHVjdC1vcmRlci1pbmZvXCIpLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZHVjdC1udW1iZXJcIilcclxuICBwcm9kdWN0UXVhbnRpZnlbcHJvZHVjdE51bWJlcl0udmFsdWUgPSBwYXJzZUludChwcm9kdWN0UXVhbnRpZnlbcHJvZHVjdE51bWJlcl0udmFsdWUpICsgMVxyXG4gIHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS5pbm5lckhUTUwgPSBgJHtwYXJzZUludChwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0uZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LXN0YXJ0aW5nLXByaWNlXCIpKSArIHBhcnNlSW50KHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3QtcHJpY2VcIikpfSRgXHJcbiAgcHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLmRhdGFzZXQucHJvZHVjdFByaWNlID0gcHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLnRleHRDb250ZW50LnNsaWNlKDAsIHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS50ZXh0Q29udGVudC5sZW5ndGgtMSlcclxuICB0b3RhbFByaWNlQ291bnQoKVxyXG59XHJcblxyXG5mdW5jdGlvbiB0b3RhbFByaWNlQ291bnQgKCl7XHJcbiAgcHJvZHVjdFByaWNlLmZvckVhY2goKGVsZW0pPT57XHJcbiAgICB0b3RhbFByaWNlID0gdG90YWxQcmljZSArIHBhcnNlSW50KGVsZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LXByaWNlXCIpKVxyXG4gICAgY29uc29sZS5sb2cocGFyc2VJbnQoZWxlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3QtcHJpY2VcIikpKVxyXG4gIH0pXHJcbiAgc3VtUHJpY2UuaW5uZXJIVE1MID0gYCR7dG90YWxQcmljZX0kYFxyXG4gIHRvdGFsUHJpY2UgPSAwXHJcbn0iXX0=
