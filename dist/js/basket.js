let productNumber,orderProducts=document.querySelectorAll(".product"),productPlus=document.querySelectorAll(".product-plus"),productMinus=document.querySelectorAll(".product-minus"),productQuantify=document.querySelectorAll(".product-amount"),product=document.querySelectorAll(".product-price"),deleteProduct=document.querySelectorAll(".delete-product"),productOrderInfo=document.querySelectorAll(".product-order-info"),sumPrice=document.querySelector(".sum-price"),basketProducts=document.querySelector(".basket-products"),balance=document.querySelector(".balance"),innerString="",totalPrice=0;function attributeAdd(){for(let t=0;t<orderProducts.length;t++)orderProducts[t].dataset.productNumber=t,productPrice[t].dataset.productStartingPrice=productPrice[t].textContent.slice(0,productPrice[t].textContent.length-1),productPrice[t].dataset.productPrice=productPrice[t].textContent.slice(0,productPrice[t].textContent.length-1)}function prMinus(t){if(t.preventDefault(),productNumber=this.closest(".product").getAttribute("data-product-number"),!(productQuantify[productNumber].value>0))return!1;productQuantify[productNumber].value=productQuantify[productNumber].value-1,productQuantify[productNumber].setAttribute("value",productQuantify[productNumber].value),localStorageAdd(),productPrice[productNumber].innerHTML=parseInt(productPrice[productNumber].getAttribute("data-product-price"))-parseInt(productPrice[productNumber].getAttribute("data-product-starting-price"))+"$",productPrice[productNumber].dataset.productPrice=productPrice[productNumber].textContent.slice(0,productPrice[productNumber].textContent.length-1),totalPriceCount()}function prPlus(t){t.preventDefault(),productNumber=this.closest(".product").getAttribute("data-product-number"),productQuantify[productNumber].value=parseInt(productQuantify[productNumber].value)+1,productQuantify[productNumber].setAttribute("value",productQuantify[productNumber].value),localStorageAdd(),productPrice[productNumber].innerHTML=parseInt(productPrice[productNumber].getAttribute("data-product-starting-price"))+parseInt(productPrice[productNumber].getAttribute("data-product-price"))+"$",productPrice[productNumber].dataset.productPrice=productPrice[productNumber].textContent.slice(0,productPrice[productNumber].textContent.length-1),totalPriceCount()}function valueChange(){productNumber=this.closest(".product").getAttribute("data-product-number"),productQuantify[productNumber].setAttribute("value",productQuantify[productNumber].value),localStorageAdd(),productPrice[productNumber].innerHTML=parseInt(productPrice[productNumber].getAttribute("data-product-starting-price"))*this.value+"$",productPrice[productNumber].dataset.productPrice=productPrice[productNumber].textContent.slice(0,productPrice[productNumber].textContent.length-1),totalPriceCount()}function totalPriceCount(){productPrice=document.querySelectorAll(".product-price"),productPrice.forEach(t=>{totalPrice+=parseInt(t.getAttribute("data-product-price"))}),sumPrice.innerHTML=totalPrice+"$",balance.innerHTML=totalPrice+"$",totalPrice=0}function refreshProducts(){orderProducts=document.querySelectorAll(".product"),productPlus=document.querySelectorAll(".product-plus"),productMinus=document.querySelectorAll(".product-minus"),productQuantify=document.querySelectorAll(".product-amount"),productPrice=document.querySelectorAll(".product-price"),deleteProduct=document.querySelectorAll(".delete-product"),productOrderInfo=document.querySelectorAll(".product-order-info"),deleteProduct=document.querySelectorAll(".delete-product"),attributeAdd(),totalPriceCount(),productPlus.forEach(t=>{t.onclick=prPlus}),productMinus.forEach(t=>{t.onclick=prMinus}),productQuantify.forEach(t=>{t.onchange=valueChange}),deleteProduct.forEach(t=>{t.onclick=e=>{e.preventDefault(),basketProducts.removeChild(orderProducts[t.closest(".product").getAttribute("data-product-number")]),orderProducts=document.querySelectorAll(".product"),localStorage.basketContent=basketProducts.innerHTML,void 0===orderProducts[0]&&(basketProducts.innerHTML='<p class="basket-clear">Basket is clear</p>'),innerString="",attributeAdd(),totalPriceCount(),localStorage.basketPrice=balance.innerHTML}}),localStorageAdd()}function localStorageAdd(){localStorage.basketContent=basketProducts.innerHTML,localStorage.basketPrice=balance.innerHTML}void 0!==localStorage.basketContent&&""!=localStorage.basketContent&&(basketProducts.innerHTML=localStorage.basketContent,refreshProducts()),""==localStorage.basketContent&&(basketProducts.innerHTML='<p class="basket-clear">Basket is clear</p>');
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2tldC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0TnVtYmVyIiwib3JkZXJQcm9kdWN0cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInByb2R1Y3RQbHVzIiwicHJvZHVjdE1pbnVzIiwicHJvZHVjdFF1YW50aWZ5IiwicHJvZHVjdCIsImRlbGV0ZVByb2R1Y3QiLCJwcm9kdWN0T3JkZXJJbmZvIiwic3VtUHJpY2UiLCJxdWVyeVNlbGVjdG9yIiwiYmFza2V0UHJvZHVjdHMiLCJiYWxhbmNlIiwiaW5uZXJTdHJpbmciLCJ0b3RhbFByaWNlIiwiYXR0cmlidXRlQWRkIiwiaSIsImxlbmd0aCIsImRhdGFzZXQiLCJwcm9kdWN0UHJpY2UiLCJwcm9kdWN0U3RhcnRpbmdQcmljZSIsInRleHRDb250ZW50Iiwic2xpY2UiLCJwck1pbnVzIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRoaXMiLCJjbG9zZXN0IiwiZ2V0QXR0cmlidXRlIiwidmFsdWUiLCJzZXRBdHRyaWJ1dGUiLCJsb2NhbFN0b3JhZ2VBZGQiLCJpbm5lckhUTUwiLCJwYXJzZUludCIsInRvdGFsUHJpY2VDb3VudCIsInByUGx1cyIsInZhbHVlQ2hhbmdlIiwiZm9yRWFjaCIsImVsZW0iLCJyZWZyZXNoUHJvZHVjdHMiLCJvbmNsaWNrIiwib25jaGFuZ2UiLCJyZW1vdmVDaGlsZCIsImxvY2FsU3RvcmFnZSIsImJhc2tldENvbnRlbnQiLCJ1bmRlZmluZWQiLCJiYXNrZXRQcmljZSJdLCJtYXBwaW5ncyI6IkFBQUEsSUFZSUEsY0FaQUMsY0FBZ0JDLFNBQVNDLGlCQUFpQixZQUMxQ0MsWUFBY0YsU0FBU0MsaUJBQWlCLGlCQUN4Q0UsYUFBZUgsU0FBU0MsaUJBQWlCLGtCQUN6Q0csZ0JBQWtCSixTQUFTQyxpQkFBaUIsbUJBQzVDSSxRQUFVTCxTQUFTQyxpQkFBaUIsa0JBQ3BDSyxjQUFnQk4sU0FBU0MsaUJBQWlCLG1CQUMxQ00saUJBQW1CUCxTQUFTQyxpQkFBaUIsdUJBQzdD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QkFBaUIsbUJBRTFDYSxlQUNBbUIsa0JBRUEvQixZQUFZa0MsUUFBU0MsSUFDbkJBLEVBQUtFLFFBQVVMLFNBRWpCL0IsYUFBYWlDLFFBQVNDLElBQ3BCQSxFQUFLRSxRQUFVakIsVUFFakJsQixnQkFBZ0JnQyxRQUFTQyxJQUN2QkEsRUFBS0csU0FBV0wsY0FFbEI3QixjQUFjOEIsUUFBU0MsSUFDckJBLEVBQUtFLFFBQVdoQixJQUNkQSxFQUFNQyxpQkFDTmQsZUFBZStCLFlBQVkxQyxjQUFjc0MsRUFBS1gsUUFBUSxZQUFZQyxhQUFhLHlCQUMvRTVCLGNBQWdCQyxTQUFTQyxpQkFBaUIsWUFDMUN5QyxhQUFhQyxjQUFnQmpDLGVBQWVxQixlQUNwQmEsSUFBckI3QyxjQUFjLEtBQ2ZXLGVBQWVxQixVQUFZLCtDQUU3Qm5CLFlBQWMsR0FDZEUsZUFDQW1CLGtCQUNBUyxhQUFhRyxZQUFjbEMsUUFBUW9CLGFBR3ZDRCxrQkFHRixTQUFTQSxrQkFDUFksYUFBYUMsY0FBZ0JqQyxlQUFlcUIsVUFDNUNXLGFBQWFHLFlBQWNsQyxRQUFRb0IsZUF0R0hhLElBQS9CRixhQUFhQyxlQUE2RCxJQUE5QkQsYUFBYUMsZ0JBQzFEakMsZUFBZXFCLFVBQVlXLGFBQWFDLGNBQ3hDTCxtQkFDZ0MsSUFBOUJJLGFBQWFDLGdCQUNmakMsZUFBZXFCLFVBQVkiLCJmaWxlIjoiYmFza2V0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IG9yZGVyUHJvZHVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3RcIiksXHJcbiAgICBwcm9kdWN0UGx1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1wbHVzXCIpLFxyXG4gICAgcHJvZHVjdE1pbnVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9kdWN0LW1pbnVzXCIpLFxyXG4gICAgcHJvZHVjdFF1YW50aWZ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9kdWN0LWFtb3VudFwiKSxcclxuICAgIHByb2R1Y3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3QtcHJpY2VcIiksIC8vIGluIHBvcHVwXHJcbiAgICBkZWxldGVQcm9kdWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kZWxldGUtcHJvZHVjdFwiKSxcclxuICAgIHByb2R1Y3RPcmRlckluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3Qtb3JkZXItaW5mb1wiKSxcclxuICAgIHN1bVByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdW0tcHJpY2VcIiksXHJcbiAgICBiYXNrZXRQcm9kdWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmFza2V0LXByb2R1Y3RzXCIpLFxyXG4gICAgYmFsYW5jZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmFsYW5jZVwiKSxcclxuICAgIGlubmVyU3RyaW5nID0gXCJcIixcclxuICAgIHRvdGFsUHJpY2UgPSAwLFxyXG4gICAgcHJvZHVjdE51bWJlclxyXG5cclxuaWYobG9jYWxTdG9yYWdlLmJhc2tldENvbnRlbnQgIT09IHVuZGVmaW5lZCAmJiBsb2NhbFN0b3JhZ2UuYmFza2V0Q29udGVudCAhPSBcIlwiKXtcclxuICBiYXNrZXRQcm9kdWN0cy5pbm5lckhUTUwgPSBsb2NhbFN0b3JhZ2UuYmFza2V0Q29udGVudFxyXG4gIHJlZnJlc2hQcm9kdWN0cyAoKVxyXG59aWYobG9jYWxTdG9yYWdlLmJhc2tldENvbnRlbnQgPT0gXCJcIil7XHJcbiAgYmFza2V0UHJvZHVjdHMuaW5uZXJIVE1MID0gYDxwIGNsYXNzPVwiYmFza2V0LWNsZWFyXCI+QmFza2V0IGlzIGNsZWFyPC9wPmBcclxufVxyXG5cclxuZnVuY3Rpb24gYXR0cmlidXRlQWRkICgpe1xyXG4gIGZvcihsZXQgaSA9IDA7IGkgPCBvcmRlclByb2R1Y3RzLmxlbmd0aDsgaSsrKXtcclxuICAgIG9yZGVyUHJvZHVjdHNbaV0uZGF0YXNldC5wcm9kdWN0TnVtYmVyID0gaVxyXG4gICAgcHJvZHVjdFByaWNlW2ldLmRhdGFzZXQucHJvZHVjdFN0YXJ0aW5nUHJpY2UgPSBwcm9kdWN0UHJpY2VbaV0udGV4dENvbnRlbnQuc2xpY2UoMCwgcHJvZHVjdFByaWNlW2ldLnRleHRDb250ZW50Lmxlbmd0aC0xKVxyXG4gICAgcHJvZHVjdFByaWNlW2ldLmRhdGFzZXQucHJvZHVjdFByaWNlID0gcHJvZHVjdFByaWNlW2ldLnRleHRDb250ZW50LnNsaWNlKDAsIHByb2R1Y3RQcmljZVtpXS50ZXh0Q29udGVudC5sZW5ndGgtMSlcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByTWludXMgKGV2ZW50KXtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgcHJvZHVjdE51bWJlciA9IHRoaXMuY2xvc2VzdChcIi5wcm9kdWN0XCIpLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZHVjdC1udW1iZXJcIilcclxuICBpZihwcm9kdWN0UXVhbnRpZnlbcHJvZHVjdE51bWJlcl0udmFsdWUgPiAwKXtcclxuICAgIHByb2R1Y3RRdWFudGlmeVtwcm9kdWN0TnVtYmVyXS52YWx1ZSA9IHByb2R1Y3RRdWFudGlmeVtwcm9kdWN0TnVtYmVyXS52YWx1ZSAtIDFcclxuICAgIHByb2R1Y3RRdWFudGlmeVtwcm9kdWN0TnVtYmVyXS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBwcm9kdWN0UXVhbnRpZnlbcHJvZHVjdE51bWJlcl0udmFsdWUpIFxyXG4gICAgbG9jYWxTdG9yYWdlQWRkICgpXHJcbiAgICBwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0uaW5uZXJIVE1MID0gYCR7cGFyc2VJbnQocHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZHVjdC1wcmljZVwiKSkgLSBwYXJzZUludChwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0uZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LXN0YXJ0aW5nLXByaWNlXCIpKX0kYFxyXG4gICAgcHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLmRhdGFzZXQucHJvZHVjdFByaWNlID0gcHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLnRleHRDb250ZW50LnNsaWNlKDAsIHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS50ZXh0Q29udGVudC5sZW5ndGgtMSlcclxuICAgIHRvdGFsUHJpY2VDb3VudCgpXHJcbiAgfWVsc2V7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByUGx1cyAoZXZlbnQpe1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICBwcm9kdWN0TnVtYmVyID0gdGhpcy5jbG9zZXN0KFwiLnByb2R1Y3RcIikuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LW51bWJlclwiKVxyXG4gIHByb2R1Y3RRdWFudGlmeVtwcm9kdWN0TnVtYmVyXS52YWx1ZSA9IHBhcnNlSW50KHByb2R1Y3RRdWFudGlmeVtwcm9kdWN0TnVtYmVyXS52YWx1ZSkgKyAxXHJcbiAgcHJvZHVjdFF1YW50aWZ5W3Byb2R1Y3ROdW1iZXJdLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIHByb2R1Y3RRdWFudGlmeVtwcm9kdWN0TnVtYmVyXS52YWx1ZSlcclxuICBsb2NhbFN0b3JhZ2VBZGQgKClcclxuICBwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0uaW5uZXJIVE1MID0gYCR7cGFyc2VJbnQocHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZHVjdC1zdGFydGluZy1wcmljZVwiKSkgKyBwYXJzZUludChwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0uZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LXByaWNlXCIpKX0kYFxyXG4gIHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS5kYXRhc2V0LnByb2R1Y3RQcmljZSA9IHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS50ZXh0Q29udGVudC5zbGljZSgwLCBwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0udGV4dENvbnRlbnQubGVuZ3RoLTEpXHJcbiAgdG90YWxQcmljZUNvdW50KClcclxufVxyXG5cclxuZnVuY3Rpb24gdmFsdWVDaGFuZ2UgKCl7XHJcbiAgcHJvZHVjdE51bWJlciA9IHRoaXMuY2xvc2VzdChcIi5wcm9kdWN0XCIpLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZHVjdC1udW1iZXJcIilcclxuICBwcm9kdWN0UXVhbnRpZnlbcHJvZHVjdE51bWJlcl0uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgcHJvZHVjdFF1YW50aWZ5W3Byb2R1Y3ROdW1iZXJdLnZhbHVlKVxyXG4gIGxvY2FsU3RvcmFnZUFkZCAoKVxyXG4gIHByb2R1Y3RQcmljZVtwcm9kdWN0TnVtYmVyXS5pbm5lckhUTUwgPSBgJHtwYXJzZUludChwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0uZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LXN0YXJ0aW5nLXByaWNlXCIpKSAqIHRoaXMudmFsdWV9JGBcclxuICBwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0uZGF0YXNldC5wcm9kdWN0UHJpY2UgPSBwcm9kdWN0UHJpY2VbcHJvZHVjdE51bWJlcl0udGV4dENvbnRlbnQuc2xpY2UoMCwgcHJvZHVjdFByaWNlW3Byb2R1Y3ROdW1iZXJdLnRleHRDb250ZW50Lmxlbmd0aC0xKVxyXG4gIHRvdGFsUHJpY2VDb3VudCgpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvdGFsUHJpY2VDb3VudCAoKXtcclxuICBwcm9kdWN0UHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3QtcHJpY2VcIilcclxuICBwcm9kdWN0UHJpY2UuZm9yRWFjaCgoZWxlbSk9PntcclxuICAgIHRvdGFsUHJpY2UgKz0gcGFyc2VJbnQoZWxlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3QtcHJpY2VcIikpXHJcbiAgfSlcclxuICBzdW1QcmljZS5pbm5lckhUTUwgPSBgJHt0b3RhbFByaWNlfSRgXHJcbiAgYmFsYW5jZS5pbm5lckhUTUwgPSBgJHt0b3RhbFByaWNlfSRgXHJcbiAgdG90YWxQcmljZSA9IDBcclxufVxyXG5cclxuZnVuY3Rpb24gcmVmcmVzaFByb2R1Y3RzICgpe1xyXG4gIG9yZGVyUHJvZHVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3RcIilcclxuICBwcm9kdWN0UGx1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1wbHVzXCIpXHJcbiAgcHJvZHVjdE1pbnVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9kdWN0LW1pbnVzXCIpXHJcbiAgcHJvZHVjdFF1YW50aWZ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9kdWN0LWFtb3VudFwiKVxyXG4gIHByb2R1Y3RQcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1wcmljZVwiKSAvLyBpbiBwb3B1cFxyXG4gIGRlbGV0ZVByb2R1Y3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlbGV0ZS1wcm9kdWN0XCIpXHJcbiAgcHJvZHVjdE9yZGVySW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdC1vcmRlci1pbmZvXCIpXHJcbiAgZGVsZXRlUHJvZHVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGVsZXRlLXByb2R1Y3RcIilcclxuXHJcbiAgYXR0cmlidXRlQWRkKClcclxuICB0b3RhbFByaWNlQ291bnQoKVxyXG5cclxuICBwcm9kdWN0UGx1cy5mb3JFYWNoKChlbGVtKT0+e1xyXG4gICAgZWxlbS5vbmNsaWNrID0gcHJQbHVzXHJcbiAgfSlcclxuICBwcm9kdWN0TWludXMuZm9yRWFjaCgoZWxlbSk9PntcclxuICAgIGVsZW0ub25jbGljayA9IHByTWludXNcclxuICB9KVxyXG4gIHByb2R1Y3RRdWFudGlmeS5mb3JFYWNoKChlbGVtKT0+e1xyXG4gICAgZWxlbS5vbmNoYW5nZSA9IHZhbHVlQ2hhbmdlXHJcbiAgfSlcclxuICBkZWxldGVQcm9kdWN0LmZvckVhY2goKGVsZW0pPT57XHJcbiAgICBlbGVtLm9uY2xpY2sgPSAoZXZlbnQpPT57XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgYmFza2V0UHJvZHVjdHMucmVtb3ZlQ2hpbGQob3JkZXJQcm9kdWN0c1tlbGVtLmNsb3Nlc3QoXCIucHJvZHVjdFwiKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3QtbnVtYmVyXCIpXSlcclxuICAgICAgb3JkZXJQcm9kdWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZHVjdFwiKVxyXG4gICAgICBsb2NhbFN0b3JhZ2UuYmFza2V0Q29udGVudCA9IGJhc2tldFByb2R1Y3RzLmlubmVySFRNTFxyXG4gICAgICBpZihvcmRlclByb2R1Y3RzWzBdID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgIGJhc2tldFByb2R1Y3RzLmlubmVySFRNTCA9IGA8cCBjbGFzcz1cImJhc2tldC1jbGVhclwiPkJhc2tldCBpcyBjbGVhcjwvcD5gXHJcbiAgICAgIH1cclxuICAgICAgaW5uZXJTdHJpbmcgPSBcIlwiXHJcbiAgICAgIGF0dHJpYnV0ZUFkZCgpXHJcbiAgICAgIHRvdGFsUHJpY2VDb3VudCgpXHJcbiAgICAgIGxvY2FsU3RvcmFnZS5iYXNrZXRQcmljZSA9IGJhbGFuY2UuaW5uZXJIVE1MXHJcbiAgICB9XHJcbiAgfSlcclxuICBsb2NhbFN0b3JhZ2VBZGQgKClcclxufVxyXG5cclxuZnVuY3Rpb24gbG9jYWxTdG9yYWdlQWRkICgpe1xyXG4gIGxvY2FsU3RvcmFnZS5iYXNrZXRDb250ZW50ID0gYmFza2V0UHJvZHVjdHMuaW5uZXJIVE1MXHJcbiAgbG9jYWxTdG9yYWdlLmJhc2tldFByaWNlID0gYmFsYW5jZS5pbm5lckhUTUxcclxufSJdfQ==
